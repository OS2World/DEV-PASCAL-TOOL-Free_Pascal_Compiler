 
<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"  
  "http://www.w3.org/TR/html4/loose.dtd">  
<html > 
<head><title>22.6 File handling functions</title> 
<meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1"> 
<meta name="generator" content="TeX4ht (http://www.cis.ohio-state.edu/~gurari/TeX4ht/mn.htm)"> 
<!--html,3,png,sections+--> 
<meta name="src" content="units.tex"> 
<meta name="date" content="2003-05-30 22:24:00"> 
<link rel="stylesheet" type="text/css" href="units.css"> 
</head><body 
>
<div class="crosslinks"><p class="noindent">[<a 
href="unitsse78.htm" >next</a>] [<a 
href="unitsse76.htm" >prev</a>] [<a 
href="unitsse76.htm#tailunitsse76.htm" >prev-tail</a>] [<a 
href="#tailunitsse77.htm">tail</a>] [<a 
href="unitsch22.htm#unitsse77.htm" >up</a>] </p></div>
<h3 class="sectionHead"><span class="titlemark">22.6</span> <a 
href="units.htm#QQ2-104-858" name="x104-85200022.6">File handling functions</a></h3>
<h4 class="subsectionHead"><a 
href="unitsli1.htm#QQ2-104-859" name="x104-85300022.6">ChangeFileExt</a></h4><a 
  name="dx104-853001"></a>
<dl class="list1"><dt class="list">
<span 
class="cmss-10">Declaration:</span> </dt><dd 
class="list"><span 
class="cmtt-10">Function ChangeFileExt(const FileName, Extension: string): string;</span>
</dd><dt class="list">
<span 
class="cmss-10">Description:</span> </dt><dd 
class="list"><span 
class="cmtt-10">ChangeFileExt </span>changes the file extension in <span 
class="cmtt-10">FileName </span>to <span 
class="cmtt-10">Extension</span>. The extension
<span 
class="cmtt-10">Extension </span>includes the starting <span 
class="cmtt-10">. </span>(dot). The previous extension of  <span 
class="cmtt-10">FileName </span>are all
characters after the last <span 
class="cmtt-10">.</span>, the <span 
class="cmtt-10">. </span>character included.
<!--l. 1055--><p class="noindent">If <span 
class="cmtt-10">FileName </span>doesn&#8217;t have an extension, <span 
class="cmtt-10">Extension </span>is just appended.
</dd><dt class="list">
<span 
class="cmss-10">Errors:</span> </dt><dd 
class="list">None.
</dd><dt class="list">
<span 
class="cmss-10">See also:</span> </dt><dd 
class="list"><span 
class="cmss-10">ExtractFileName </span>(<a 
href="#x104-86100022.6">743<!--tex4ht:ref: se:TBufStream--></a>), <span 
class="cmss-10">ExtractFilePath </span>(<a 
href="#x104-86200022.6">743<!--tex4ht:ref: se:TBufStream--></a>), <span 
class="cmss-10">ExpandFileName </span>(<a 
href="#x104-85600022.6">741<!--tex4ht:ref: se:TBufStream--></a>)</dd></dl>
<h4 class="subsectionHead"><a 
href="unitsli1.htm#QQ2-104-860" name="x104-85400022.6">DeleteFile</a></h4><a 
  name="dx104-854001"></a>
<dl class="list1"><dt class="list">
<span 
class="cmss-10">Declaration:</span> </dt><dd 
class="list"><span 
class="cmtt-10">Function DeleteFile(Const FileName : String) : Boolean;</span>
</dd><dt class="list">
<span 
class="cmss-10">Description:</span> </dt><dd 
class="list"><span 
class="cmtt-10">DeleteFile </span>deletes file <span 
class="cmtt-10">FileName </span>from disk. The function returns <span 
class="cmtt-10">True </span>if the file was
successfully removed, <span 
class="cmtt-10">False </span>otherwise.
</dd><dt class="list">
<span 
class="cmss-10">Errors:</span> </dt><dd 
class="list">On error, <span 
class="cmtt-10">False </span>is returned.
</dd><dt class="list">
<span 
class="cmss-10">See also:</span> </dt><dd 
class="list"><span 
class="cmss-10">FileCreate </span>(<a 
href="#x104-86600022.6">746<!--tex4ht:ref: se:TBufStream--></a>), <span 
class="cmss-10">FileExists </span>(<a 
href="#x104-86700022.6">747<!--tex4ht:ref: se:TBufStream--></a>)</dd></dl>
<!--l. 1077--><p class="noindent"><span 
class="cmssbx-10">Listing: </span><span 
class="cmss-10">sysutex/ex31.pp</span><HR/><div class="listinginput">
<!--l. 1077--><p class="noindent"><div class="obeylines-v">   <span 
class="cmtt-10">Program</span>&nbsp;<span 
class="cmtt-10">Example31;</span>
<br>
<br>   <span 
class="cmtt-10">{</span>&nbsp;<span 
class="cmtt-10">This</span>&nbsp;<span 
class="cmtt-10">program</span>&nbsp;<span 
class="cmtt-10">demonstrates</span>&nbsp;<span 
class="cmtt-10">the</span>&nbsp;<span 
class="cmtt-10">DeleteFile</span>&nbsp;<span 
class="cmtt-10">function</span>&nbsp;<span 
class="cmtt-10">}</span>
<br>
<br>   <span 
class="cmtt-10">Uses</span>&nbsp;<span 
class="cmtt-10">sysutils;</span>
<br>
<br>   <span 
class="cmtt-10">Var</span>
<br>   &nbsp;&nbsp;<span 
class="cmtt-10">Line</span>&nbsp;<span 
class="cmtt-10">:</span>&nbsp;<span 
class="cmtt-10">String;</span>
<br>   &nbsp;&nbsp;<span 
class="cmtt-10">F,I</span>&nbsp;<span 
class="cmtt-10">:</span>&nbsp;<span 
class="cmtt-10">Longint;</span>
                                                                            

                                                                            
<br>
<br>   <span 
class="cmtt-10">Begin</span>
<br>   &nbsp;&nbsp;<span 
class="cmtt-10">F:=FileCreate('test.txt');</span>
<br>   &nbsp;&nbsp;<span 
class="cmtt-10">Line:='Some</span>&nbsp;<span 
class="cmtt-10">string</span>&nbsp;<span 
class="cmtt-10">line.'#10;</span>
<br>   &nbsp;&nbsp;<span 
class="cmtt-10">For</span>&nbsp;<span 
class="cmtt-10">I:=1</span>&nbsp;<span 
class="cmtt-10">to</span>&nbsp;<span 
class="cmtt-10">10</span>&nbsp;<span 
class="cmtt-10">do</span>
<br>   &nbsp;&nbsp;&nbsp;&nbsp;<span 
class="cmtt-10">FileWrite</span>&nbsp;<span 
class="cmtt-10">(F,Line[1],Length(Line));</span>
<br>   &nbsp;&nbsp;<span 
class="cmtt-10">FileClose(F);</span>
<br>   &nbsp;&nbsp;<span 
class="cmtt-10">DeleteFile('test.txt');</span>
<br>   <span 
class="cmtt-10">End.</span>
</div></div><HR/>
<h4 class="subsectionHead"><a 
href="unitsli1.htm#QQ2-104-861" name="x104-85500022.6">DoDirSeparators</a></h4><a 
  name="dx104-855001"></a>
<dl class="list1"><dt class="list">
<span 
class="cmss-10">Declaration:</span> </dt><dd 
class="list"><span 
class="cmtt-10">Procedure DoDirSeparators(Var FileName : String);</span>
</dd><dt class="list">
<span 
class="cmss-10">Description:</span> </dt><dd 
class="list">This function replaces all directory separators <span 
class="cmtt-10">'</span><span 
class="cmtt-10">&aacute;nd  '/' </span>to the directory separator character
for the current system.
</dd><dt class="list">
<span 
class="cmss-10">Errors:</span> </dt><dd 
class="list">None.
</dd><dt class="list">
<span 
class="cmss-10">See also:</span> </dt><dd 
class="list"><span 
class="cmss-10">ExtractFileName </span>(<a 
href="#x104-86100022.6">743<!--tex4ht:ref: se:TBufStream--></a>), <span 
class="cmss-10">ExtractFilePath </span>(<a 
href="#x104-86200022.6">743<!--tex4ht:ref: se:TBufStream--></a>)</dd></dl>
<!--l. 1092--><p class="noindent"><span 
class="cmssbx-10">Listing: </span><span 
class="cmss-10">sysutex/ex32.pp</span><HR/><div class="listinginput">
<!--l. 1092--><p class="noindent"><div class="obeylines-v">   <span 
class="cmtt-10">Program</span>&nbsp;<span 
class="cmtt-10">Example32;</span>
<br>
<br>   <span 
class="cmtt-10">{</span>&nbsp;<span 
class="cmtt-10">This</span>&nbsp;<span 
class="cmtt-10">program</span>&nbsp;<span 
class="cmtt-10">demonstrates</span>&nbsp;<span 
class="cmtt-10">the</span>&nbsp;<span 
class="cmtt-10">DoDirSeparators</span>&nbsp;<span 
class="cmtt-10">function</span>&nbsp;<span 
class="cmtt-10">}</span>
<br>   <span 
class="cmtt-10">{$H+}</span>
<br>
<br>   <span 
class="cmtt-10">Uses</span>&nbsp;<span 
class="cmtt-10">sysutils;</span>
<br>
<br>   <span 
class="cmtt-10">Procedure</span>&nbsp;<span 
class="cmtt-10">Testit</span>&nbsp;<span 
class="cmtt-10">(F</span>&nbsp;<span 
class="cmtt-10">:</span>&nbsp;<span 
class="cmtt-10">String);</span>
<br>
<br>   <span 
class="cmtt-10">begin</span>
<br>   &nbsp;&nbsp;<span 
class="cmtt-10">Writeln</span>&nbsp;<span 
class="cmtt-10">('Before</span>&nbsp;<span 
class="cmtt-10">:</span>&nbsp;<span 
class="cmtt-10">',F);</span>
<br>   &nbsp;&nbsp;<span 
class="cmtt-10">DoDirSeparators</span>&nbsp;<span 
class="cmtt-10">(F);</span>
<br>   &nbsp;&nbsp;<span 
class="cmtt-10">Writeln</span>&nbsp;<span 
class="cmtt-10">('After</span>&nbsp;&nbsp;<span 
class="cmtt-10">:</span>&nbsp;<span 
class="cmtt-10">',F);</span>
<br>   <span 
class="cmtt-10">end;</span>
<br>
<br>   <span 
class="cmtt-10">Begin</span>
<br>   &nbsp;&nbsp;<span 
class="cmtt-10">Testit</span>&nbsp;<span 
class="cmtt-10">(GetCurrentDir);</span>
<br>   &nbsp;&nbsp;<span 
class="cmtt-10">Testit</span>&nbsp;<span 
class="cmtt-10">('c:\pp\bin\win32');</span>
<br>   &nbsp;&nbsp;<span 
class="cmtt-10">Testit</span>&nbsp;<span 
class="cmtt-10">('/usr/lib/fpc');</span>
<br>   &nbsp;&nbsp;<span 
class="cmtt-10">Testit</span>&nbsp;<span 
class="cmtt-10">('\usr\lib\fpc');</span>
<br>   <span 
class="cmtt-10">End.</span>
</div></div><HR/>
                                                                            

                                                                            
<h4 class="subsectionHead"><a 
href="unitsli1.htm#QQ2-104-862" name="x104-85600022.6">ExpandFileName</a></h4><a 
  name="dx104-856001"></a>
<dl class="list1"><dt class="list">
<span 
class="cmss-10">Declaration:</span> </dt><dd 
class="list"><span 
class="cmtt-10">Function ExpandFileName(Const FileName : string): String;</span>
</dd><dt class="list">
<span 
class="cmss-10">Description:</span> </dt><dd 
class="list"><span 
class="cmtt-10">ExpandFileName </span>expands the filename to an absolute filename. It changes all directory
separator characters to the one appropriate for the system first.
</dd><dt class="list">
<span 
class="cmss-10">Errors:</span> </dt><dd 
class="list">None.
</dd><dt class="list">
<span 
class="cmss-10">See also:</span> </dt><dd 
class="list"><span 
class="cmss-10">ExtractFileName </span>(<a 
href="#x104-86100022.6">743<!--tex4ht:ref: se:TBufStream--></a>), <span 
class="cmss-10">ExtractFilePath </span>(<a 
href="#x104-86200022.6">743<!--tex4ht:ref: se:TBufStream--></a>), <span 
class="cmss-10">ExtractFileDir </span>(<a 
href="#x104-85800022.6">742<!--tex4ht:ref: se:TBufStream--></a>), <span 
class="cmss-10">ExtractFileDrive </span>(<a 
href="#x104-85900022.6">742<!--tex4ht:ref: se:TBufStream--></a>),
<span 
class="cmss-10">ExtractFileExt </span>(<a 
href="#x104-86000022.6">743<!--tex4ht:ref: se:TBufStream--></a>), <span 
class="cmss-10">ExtractRelativePath </span>(<a 
href="#x104-86300022.6">744<!--tex4ht:ref: se:TBufStream--></a>)</dd></dl>
<!--l. 1109--><p class="noindent"><span 
class="cmssbx-10">Listing: </span><span 
class="cmss-10">sysutex/ex33.pp</span><HR/><div class="listinginput">
<!--l. 1109--><p class="noindent"><div class="obeylines-v">   <span 
class="cmtt-10">Program</span>&nbsp;<span 
class="cmtt-10">Example33;</span>
<br>
<br>   <span 
class="cmtt-10">{</span>&nbsp;<span 
class="cmtt-10">This</span>&nbsp;<span 
class="cmtt-10">program</span>&nbsp;<span 
class="cmtt-10">demonstrates</span>&nbsp;<span 
class="cmtt-10">the</span>&nbsp;<span 
class="cmtt-10">ExpandFileName</span>&nbsp;<span 
class="cmtt-10">function</span>&nbsp;<span 
class="cmtt-10">}</span>
<br>
<br>   <span 
class="cmtt-10">Uses</span>&nbsp;<span 
class="cmtt-10">sysutils;</span>
<br>
<br>   <span 
class="cmtt-10">Procedure</span>&nbsp;<span 
class="cmtt-10">Testit</span>&nbsp;<span 
class="cmtt-10">(F</span>&nbsp;<span 
class="cmtt-10">:</span>&nbsp;<span 
class="cmtt-10">String);</span>
<br>
<br>   <span 
class="cmtt-10">begin</span>
<br>   &nbsp;&nbsp;<span 
class="cmtt-10">Writeln</span>&nbsp;<span 
class="cmtt-10">(F,'</span>&nbsp;<span 
class="cmtt-10">expands</span>&nbsp;<span 
class="cmtt-10">to</span>&nbsp;<span 
class="cmtt-10">:</span>&nbsp;<span 
class="cmtt-10">',ExpandFileName(F));</span>
<br>   <span 
class="cmtt-10">end;</span>
<br>
<br>   <span 
class="cmtt-10">Begin</span>
<br>   &nbsp;&nbsp;<span 
class="cmtt-10">Testit('ex33.pp');</span>
<br>   &nbsp;&nbsp;<span 
class="cmtt-10">Testit(ParamStr(0));</span>
<br>   &nbsp;&nbsp;<span 
class="cmtt-10">Testit('/pp/bin/win32/ppc386');</span>
<br>   &nbsp;&nbsp;<span 
class="cmtt-10">Testit('\pp\bin\win32\ppc386');</span>
<br>   &nbsp;&nbsp;<span 
class="cmtt-10">Testit('.');</span>
<br>   <span 
class="cmtt-10">End.</span>
</div></div><HR/>
<h4 class="subsectionHead"><a 
href="unitsli1.htm#QQ2-104-863" name="x104-85700022.6">ExpandUNCFileName</a></h4><a 
  name="dx104-857001"></a>
<dl class="list1"><dt class="list">
<span 
class="cmss-10">Declaration:</span> </dt><dd 
class="list"><span 
class="cmtt-10">Function ExpandUNCFileName(Const FileName : string): String;</span>
</dd><dt class="list">
<span 
class="cmss-10">Description:</span> </dt><dd 
class="list"><span 
class="cmtt-10">ExpandUNCFileName </span>runs <span 
class="cmss-10">ExpandFileName </span>(<a 
href="#x104-85600022.6">741<!--tex4ht:ref: se:TBufStream--></a>) on <span 
class="cmtt-10">FileName </span>and then attempts to replace
the driveletter by the name of a shared disk.
</dd><dt class="list">
<span 
class="cmss-10">Errors:</span> </dt><dd 
class="list">
</dd><dt class="list">
                                                                            

                                                                            
<span 
class="cmss-10">See also:</span> </dt><dd 
class="list"><span 
class="cmss-10">ExtractFileName </span>(<a 
href="#x104-86100022.6">743<!--tex4ht:ref: se:TBufStream--></a>), <span 
class="cmss-10">ExtractFilePath </span>(<a 
href="#x104-86200022.6">743<!--tex4ht:ref: se:TBufStream--></a>), <span 
class="cmss-10">ExtractFileDir </span>(<a 
href="#x104-85800022.6">742<!--tex4ht:ref: se:TBufStream--></a>), <span 
class="cmss-10">ExtractFileDrive </span>(<a 
href="#x104-85900022.6">742<!--tex4ht:ref: se:TBufStream--></a>),
<span 
class="cmss-10">ExtractFileExt </span>(<a 
href="#x104-86000022.6">743<!--tex4ht:ref: se:TBufStream--></a>), <span 
class="cmss-10">ExtractRelativePath </span>(<a 
href="#x104-86300022.6">744<!--tex4ht:ref: se:TBufStream--></a>)</dd></dl>
<h4 class="subsectionHead"><a 
href="unitsli1.htm#QQ2-104-864" name="x104-85800022.6">ExtractFileDir</a></h4><a 
  name="dx104-858001"></a>
<dl class="list1"><dt class="list">
<span 
class="cmss-10">Declaration:</span> </dt><dd 
class="list"><span 
class="cmtt-10">Function ExtractFileDir(Const FileName : string): string;</span>
</dd><dt class="list">
<span 
class="cmss-10">Description:</span> </dt><dd 
class="list"><span 
class="cmtt-10">ExtractFileDir </span>returns only the directory part of <span 
class="cmtt-10">FileName</span>, not including a driveletter.
The directory name has NO ending directory separator, in difference with <span 
class="cmss-10">ExtractFilePath</span>
(<a 
href="#x104-86200022.6">743<!--tex4ht:ref: se:TBufStream--></a>).
</dd><dt class="list">
<span 
class="cmss-10">Errors:</span> </dt><dd 
class="list">None.
</dd><dt class="list">
<span 
class="cmss-10">See also:</span> </dt><dd 
class="list"><span 
class="cmss-10">ExtractFileName </span>(<a 
href="#x104-86100022.6">743<!--tex4ht:ref: se:TBufStream--></a>), <span 
class="cmss-10">ExtractFilePath </span>(<a 
href="#x104-86200022.6">743<!--tex4ht:ref: se:TBufStream--></a>), <span 
class="cmss-10">ExtractFileDir </span>(<a 
href="#x104-85800022.6">742<!--tex4ht:ref: se:TBufStream--></a>), <span 
class="cmss-10">ExtractFileDrive </span>(<a 
href="#x104-85900022.6">742<!--tex4ht:ref: se:TBufStream--></a>),
<span 
class="cmss-10">ExtractFileExt </span>(<a 
href="#x104-86000022.6">743<!--tex4ht:ref: se:TBufStream--></a>), <span 
class="cmss-10">ExtractRelativePath </span>(<a 
href="#x104-86300022.6">744<!--tex4ht:ref: se:TBufStream--></a>)</dd></dl>
<!--l. 1140--><p class="noindent"><span 
class="cmssbx-10">Listing: </span><span 
class="cmss-10">sysutex/ex34.pp</span><HR/><div class="listinginput">
<!--l. 1140--><p class="noindent"><div class="obeylines-v">   <span 
class="cmtt-10">Program</span>&nbsp;<span 
class="cmtt-10">Example34;</span>
<br>
<br>   <span 
class="cmtt-10">{</span>&nbsp;<span 
class="cmtt-10">This</span>&nbsp;<span 
class="cmtt-10">program</span>&nbsp;<span 
class="cmtt-10">demonstrates</span>&nbsp;<span 
class="cmtt-10">the</span>&nbsp;<span 
class="cmtt-10">ExtractFileName</span>&nbsp;<span 
class="cmtt-10">function</span>&nbsp;<span 
class="cmtt-10">}</span>
<br>   <span 
class="cmtt-10">{$H+}</span>
<br>   <span 
class="cmtt-10">Uses</span>&nbsp;<span 
class="cmtt-10">sysutils;</span>
<br>
<br>   <span 
class="cmtt-10">Procedure</span>&nbsp;<span 
class="cmtt-10">Testit(F</span>&nbsp;<span 
class="cmtt-10">:</span>&nbsp;<span 
class="cmtt-10">String);</span>
<br>
<br>   <span 
class="cmtt-10">begin</span>
<br>   &nbsp;<span 
class="cmtt-10">Writeln</span>&nbsp;<span 
class="cmtt-10">('FileName</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span 
class="cmtt-10">:</span>&nbsp;<span 
class="cmtt-10">',F);</span>
<br>   &nbsp;<span 
class="cmtt-10">Writeln</span>&nbsp;<span 
class="cmtt-10">('Has</span>&nbsp;<span 
class="cmtt-10">Name</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span 
class="cmtt-10">:</span>&nbsp;<span 
class="cmtt-10">',ExtractFileName(F));</span>
<br>   &nbsp;<span 
class="cmtt-10">Writeln</span>&nbsp;<span 
class="cmtt-10">('Has</span>&nbsp;<span 
class="cmtt-10">Path</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span 
class="cmtt-10">:</span>&nbsp;<span 
class="cmtt-10">',ExtractFilePath(F));</span>
<br>   &nbsp;<span 
class="cmtt-10">Writeln</span>&nbsp;<span 
class="cmtt-10">('Has</span>&nbsp;<span 
class="cmtt-10">Extension</span>&nbsp;<span 
class="cmtt-10">:</span>&nbsp;<span 
class="cmtt-10">',ExtractFileExt(F));</span>
<br>   &nbsp;<span 
class="cmtt-10">Writeln</span>&nbsp;<span 
class="cmtt-10">('Has</span>&nbsp;<span 
class="cmtt-10">Directory</span>&nbsp;<span 
class="cmtt-10">:</span>&nbsp;<span 
class="cmtt-10">',ExtractFileDir(F));</span>
<br>   &nbsp;<span 
class="cmtt-10">Writeln</span>&nbsp;<span 
class="cmtt-10">('Has</span>&nbsp;<span 
class="cmtt-10">Drive</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span 
class="cmtt-10">:</span>&nbsp;<span 
class="cmtt-10">',ExtractFileDrive(F));</span>
<br>   <span 
class="cmtt-10">end;</span>
<br>
<br>   <span 
class="cmtt-10">Begin</span>
<br>   &nbsp;&nbsp;<span 
class="cmtt-10">Testit</span>&nbsp;<span 
class="cmtt-10">(Paramstr(0));</span>
<br>   &nbsp;&nbsp;<span 
class="cmtt-10">Testit</span>&nbsp;<span 
class="cmtt-10">('/usr/local/bin/mysqld');</span>
<br>   &nbsp;&nbsp;<span 
class="cmtt-10">Testit</span>&nbsp;<span 
class="cmtt-10">('c:\pp\bin\win32\ppc386.exe');</span>
<br>   &nbsp;&nbsp;<span 
class="cmtt-10">Testit</span>&nbsp;<span 
class="cmtt-10">('/pp/bin/win32/ppc386.exe');</span>
<br>   <span 
class="cmtt-10">End.</span>
</div></div><HR/>
<h4 class="subsectionHead"><a 
href="unitsli1.htm#QQ2-104-865" name="x104-85900022.6">ExtractFileDrive</a></h4><a 
  name="dx104-859001"></a>
<dl class="list1"><dt class="list">
<span 
class="cmss-10">Declaration:</span> </dt><dd 
class="list"><span 
class="cmtt-10">Function ExtractFileDrive(const FileName: string): string;</span>
                                                                            

                                                                            
</dd><dt class="list">
<span 
class="cmss-10">Description:</span> </dt><dd 
class="list"><span 
class="cmtt-10">Extract</span>
</dd><dt class="list">
<span 
class="cmss-10">Errors:</span> </dt><dd 
class="list">
</dd><dt class="list">
<span 
class="cmss-10">See also:</span> </dt><dd 
class="list"><span 
class="cmss-10">ExtractFileName </span>(<a 
href="#x104-86100022.6">743<!--tex4ht:ref: se:TBufStream--></a>), <span 
class="cmss-10">ExtractFilePath </span>(<a 
href="#x104-86200022.6">743<!--tex4ht:ref: se:TBufStream--></a>), <span 
class="cmss-10">ExtractFileDir </span>(<a 
href="#x104-85800022.6">742<!--tex4ht:ref: se:TBufStream--></a>), <span 
class="cmss-10">ExtractFileDrive </span>(<a 
href="#x104-85900022.6">742<!--tex4ht:ref: se:TBufStream--></a>),
<span 
class="cmss-10">ExtractFileExt </span>(<a 
href="#x104-86000022.6">743<!--tex4ht:ref: se:TBufStream--></a>), <span 
class="cmss-10">ExtractRelativePath </span>(<a 
href="#x104-86300022.6">744<!--tex4ht:ref: se:TBufStream--></a>)</dd></dl>
<!--l. 1154--><p class="noindent">For an example, see <span 
class="cmss-10">ExtractFileDir </span>(<a 
href="#x104-85800022.6">742<!--tex4ht:ref: se:TBufStream--></a>).
<h4 class="subsectionHead"><a 
href="unitsli1.htm#QQ2-104-866" name="x104-86000022.6">ExtractFileExt</a></h4><a 
  name="dx104-860001"></a>
<dl class="list1"><dt class="list">
<span 
class="cmss-10">Declaration:</span> </dt><dd 
class="list"><span 
class="cmtt-10">Function ExtractFileExt(const FileName: string): string;</span>
</dd><dt class="list">
<span 
class="cmss-10">Description:</span> </dt><dd 
class="list"><span 
class="cmtt-10">ExtractFileExt </span>returns the extension (including the <span 
class="cmtt-10">.</span>(dot) character) of <span 
class="cmtt-10">FileName</span>.
</dd><dt class="list">
<span 
class="cmss-10">Errors:</span> </dt><dd 
class="list">None.
</dd><dt class="list">
<span 
class="cmss-10">See also:</span> </dt><dd 
class="list"><span 
class="cmss-10">ExtractFileName </span>(<a 
href="#x104-86100022.6">743<!--tex4ht:ref: se:TBufStream--></a>), <span 
class="cmss-10">ExtractFilePath </span>(<a 
href="#x104-86200022.6">743<!--tex4ht:ref: se:TBufStream--></a>), <span 
class="cmss-10">ExtractFileDir </span>(<a 
href="#x104-85800022.6">742<!--tex4ht:ref: se:TBufStream--></a>), <span 
class="cmss-10">ExtractFileDrive </span>(<a 
href="#x104-85900022.6">742<!--tex4ht:ref: se:TBufStream--></a>),
<span 
class="cmss-10">ExtractFileExt </span>(<a 
href="#x104-86000022.6">743<!--tex4ht:ref: se:TBufStream--></a>), <span 
class="cmss-10">ExtractRelativePath </span>(<a 
href="#x104-86300022.6">744<!--tex4ht:ref: se:TBufStream--></a>)</dd></dl>
<!--l. 1169--><p class="noindent">For an example, see <span 
class="cmss-10">ExtractFileDir </span>(<a 
href="#x104-85800022.6">742<!--tex4ht:ref: se:TBufStream--></a>).
<h4 class="subsectionHead"><a 
href="unitsli1.htm#QQ2-104-867" name="x104-86100022.6">ExtractFileName</a></h4><a 
  name="dx104-861001"></a>
<dl class="list1"><dt class="list">
<span 
class="cmss-10">Declaration:</span> </dt><dd 
class="list"><span 
class="cmtt-10">Function ExtractFileName(const FileName: string): string;</span>
</dd><dt class="list">
<span 
class="cmss-10">Description:</span> </dt><dd 
class="list"><span 
class="cmtt-10">ExtractFileName </span>returns the filename part from <span 
class="cmtt-10">FileName</span>. The filename consists of all
characters after the last directory separator character (&#8217;/&#8217; or &#8217;<img 
src="units0x.png" alt="´
)  "  class="acute" > or drive letter.
<!--l. 1179--><p class="noindent">The full filename can always be reconstucted by concatenating the result of <span 
class="cmss-10">ExtractFilePath</span>
(<a 
href="#x104-86200022.6">743<!--tex4ht:ref: se:TBufStream--></a>) and <span 
class="cmtt-10">ExtractFileName</span>.
</dd><dt class="list">
<span 
class="cmss-10">Errors:</span> </dt><dd 
class="list">None.
</dd><dt class="list">
<span 
class="cmss-10">See also:</span> </dt><dd 
class="list"><span 
class="cmss-10">ExtractFileName </span>(<a 
href="#x104-86100022.6">743<!--tex4ht:ref: se:TBufStream--></a>), <span 
class="cmss-10">ExtractFilePath </span>(<a 
href="#x104-86200022.6">743<!--tex4ht:ref: se:TBufStream--></a>), <span 
class="cmss-10">ExtractFileDir </span>(<a 
href="#x104-85800022.6">742<!--tex4ht:ref: se:TBufStream--></a>), <span 
class="cmss-10">ExtractFileDrive </span>(<a 
href="#x104-85900022.6">742<!--tex4ht:ref: se:TBufStream--></a>),
<span 
class="cmss-10">ExtractFileExt </span>(<a 
href="#x104-86000022.6">743<!--tex4ht:ref: se:TBufStream--></a>),<span 
class="cmss-10">ExtractRelativePath </span>(<a 
href="#x104-86300022.6">744<!--tex4ht:ref: se:TBufStream--></a>)</dd></dl>
<!--l. 1188--><p class="noindent">For an example, see <span 
class="cmss-10">ExtractFileDir </span>(<a 
href="#x104-85800022.6">742<!--tex4ht:ref: se:TBufStream--></a>).
<h4 class="subsectionHead"><a 
href="unitsli1.htm#QQ2-104-868" name="x104-86200022.6">ExtractFilePath</a></h4><a 
  name="dx104-862001"></a>
<dl class="list1"><dt class="list">
<span 
class="cmss-10">Declaration:</span> </dt><dd 
class="list"><span 
class="cmtt-10">Function ExtractFilePath(const FileName: string): string;</span>
                                                                            

                                                                            
</dd><dt class="list">
<span 
class="cmss-10">Description:</span> </dt><dd 
class="list"><span 
class="cmtt-10">ExtractFilePath </span>returns the path part (including driveletter) from <span 
class="cmtt-10">FileName</span>. The path
consists of all characters before the last directory separator character (&#8217;/&#8217; or &#8217;<img 
src="units1x.png" alt="´)  "  class="acute" >, including
the directory separator itself. In case there is only a drive letter, that will be returned.
<!--l. 1200--><p class="noindent">The full filename can always be reconstucted by concatenating the result of <span 
class="cmtt-10">ExtractFilePath</span>
and <span 
class="cmss-10">ExtractFileName </span>(<a 
href="#x104-86100022.6">743<!--tex4ht:ref: se:TBufStream--></a>).
</dd><dt class="list">
<span 
class="cmss-10">Errors:</span> </dt><dd 
class="list">None.
</dd><dt class="list">
<span 
class="cmss-10">See also:</span> </dt><dd 
class="list"><span 
class="cmss-10">ExtractFileName </span>(<a 
href="#x104-86100022.6">743<!--tex4ht:ref: se:TBufStream--></a>), <span 
class="cmss-10">ExtractFilePath </span>(<a 
href="#x104-86200022.6">743<!--tex4ht:ref: se:TBufStream--></a>), <span 
class="cmss-10">ExtractFileDir </span>(<a 
href="#x104-85800022.6">742<!--tex4ht:ref: se:TBufStream--></a>), <span 
class="cmss-10">ExtractFileDrive </span>(<a 
href="#x104-85900022.6">742<!--tex4ht:ref: se:TBufStream--></a>),
<span 
class="cmss-10">ExtractFileExt </span>(<a 
href="#x104-86000022.6">743<!--tex4ht:ref: se:TBufStream--></a>), <span 
class="cmss-10">ExtractRelativePath </span>(<a 
href="#x104-86300022.6">744<!--tex4ht:ref: se:TBufStream--></a>)</dd></dl>
<!--l. 1209--><p class="noindent">For an example, see <span 
class="cmss-10">ExtractFileDir </span>(<a 
href="#x104-85800022.6">742<!--tex4ht:ref: se:TBufStream--></a>).
<h4 class="subsectionHead"><a 
href="unitsli1.htm#QQ2-104-869" name="x104-86300022.6">ExtractRelativePath</a></h4><a 
  name="dx104-863001"></a>
<dl class="list1"><dt class="list">
<span 
class="cmss-10">Declaration:</span> </dt><dd 
class="list"><span 
class="cmtt-10">Function ExtractRelativePath(Const BaseName,DestNAme : String): String;</span>
</dd><dt class="list">
<span 
class="cmss-10">Description:</span> </dt><dd 
class="list"><span 
class="cmtt-10">ExtractRelativePath </span>constructs a relative path to go from <span 
class="cmtt-10">BaseName </span>to <span 
class="cmtt-10">DestName</span>. If
<span 
class="cmtt-10">DestName </span>is on another drive (Not on Linux) then the whole <span 
class="cmtt-10">Destname </span>is returned.
<!--l. 1219--><p class="noindent"><span 
class="cmti-10">Note: </span>This function does not exist in the Delphi unit.
</dd><dt class="list">
<span 
class="cmss-10">Errors:</span> </dt><dd 
class="list">None.
</dd><dt class="list">
<span 
class="cmss-10">See also:</span> </dt><dd 
class="list"><span 
class="cmss-10">ExtractFileName </span>(<a 
href="#x104-86100022.6">743<!--tex4ht:ref: se:TBufStream--></a>), <span 
class="cmss-10">ExtractFilePath </span>(<a 
href="#x104-86200022.6">743<!--tex4ht:ref: se:TBufStream--></a>), <span 
class="cmss-10">ExtractFileDir </span>(<a 
href="#x104-85800022.6">742<!--tex4ht:ref: se:TBufStream--></a>), <span 
class="cmss-10">ExtractFileDrive </span>(<a 
href="#x104-85900022.6">742<!--tex4ht:ref: se:TBufStream--></a>),
<span 
class="cmss-10">ExtractFileExt </span>(<a 
href="#x104-86000022.6">743<!--tex4ht:ref: se:TBufStream--></a>),</dd></dl>
<!--l. 1227--><p class="noindent"><span 
class="cmssbx-10">Listing: </span><span 
class="cmss-10">sysutex/ex35.pp</span><HR/><div class="listinginput">
<!--l. 1227--><p class="noindent"><div class="obeylines-v">   <span 
class="cmtt-10">Program</span>&nbsp;<span 
class="cmtt-10">Example35;</span>
<br>
<br>   <span 
class="cmtt-10">{</span>&nbsp;<span 
class="cmtt-10">This</span>&nbsp;<span 
class="cmtt-10">program</span>&nbsp;<span 
class="cmtt-10">demonstrates</span>&nbsp;<span 
class="cmtt-10">the</span>&nbsp;<span 
class="cmtt-10">ExtractRelativePath</span>&nbsp;<span 
class="cmtt-10">function</span>&nbsp;<span 
class="cmtt-10">}</span>
<br>
<br>   <span 
class="cmtt-10">Uses</span>&nbsp;<span 
class="cmtt-10">sysutils;</span>
<br>
<br>   <span 
class="cmtt-10">Procedure</span>&nbsp;<span 
class="cmtt-10">Testit</span>&nbsp;<span 
class="cmtt-10">(FromDir,ToDir</span>&nbsp;<span 
class="cmtt-10">:</span>&nbsp;<span 
class="cmtt-10">String);</span>
<br>
<br>   <span 
class="cmtt-10">begin</span>
<br>   &nbsp;&nbsp;<span 
class="cmtt-10">Write</span>&nbsp;<span 
class="cmtt-10">('From</span>&nbsp;<span 
class="cmtt-10">&#34;',FromDir,'&#34;</span>&nbsp;<span 
class="cmtt-10">to</span>&nbsp;<span 
class="cmtt-10">&#34;',ToDir,'&#34;</span>&nbsp;<span 
class="cmtt-10">via</span>&nbsp;<span 
class="cmtt-10">&#34;');</span>
<br>   &nbsp;&nbsp;<span 
class="cmtt-10">Writeln</span>&nbsp;<span 
class="cmtt-10">(ExtractRelativePath(FromDir,ToDir),'&#34;');</span>
<br>   <span 
class="cmtt-10">end;</span>
<br>
<br>   <span 
class="cmtt-10">Begin</span>
<br>   &nbsp;<span 
class="cmtt-10">Testit</span>&nbsp;<span 
class="cmtt-10">('/pp/src/compiler','/pp/bin/win32/ppc386');</span>
<br>   &nbsp;<span 
class="cmtt-10">Testit</span>&nbsp;<span 
class="cmtt-10">('/pp/bin/win32/ppc386','/pp/src/compiler');</span>
<br>   &nbsp;<span 
class="cmtt-10">Testit</span>&nbsp;<span 
class="cmtt-10">('e:/pp/bin/win32/ppc386','d:/pp/src/compiler');</span>
<br>   &nbsp;<span 
class="cmtt-10">Testit</span>&nbsp;<span 
class="cmtt-10">('e:\pp\bin\win32\ppc386','d:\pp\src\compiler');</span>
                                                                            

                                                                            
<br>   <span 
class="cmtt-10">End.</span>
</div></div><HR/>
<h4 class="subsectionHead"><a 
href="unitsli1.htm#QQ2-104-870" name="x104-86400022.6">FileAge</a></h4><a 
  name="dx104-864001"></a>
<dl class="list1"><dt class="list">
<span 
class="cmss-10">Declaration:</span> </dt><dd 
class="list"><span 
class="cmtt-10">Function FileAge(Const FileName : String): Longint;</span>
</dd><dt class="list">
<span 
class="cmss-10">Description:</span> </dt><dd 
class="list"><span 
class="cmtt-10">FileAge </span>returns the last modification time of file <span 
class="cmtt-10">FileName</span>. The FileDate format can be
transformed to <span 
class="cmtt-10">TDateTime </span>format with the <span 
class="cmss-10">FileDateToDateTime </span>(<a 
href="unitsse75.htm#x102-83000022.4">724<!--tex4ht:ref: se:TBufStream--></a>) function.
</dd><dt class="list">
<span 
class="cmss-10">Errors:</span> </dt><dd 
class="list">In case of errors, <span 
class="cmtt-10">-1 </span>is returned.
</dd><dt class="list">
<span 
class="cmss-10">See also:</span> </dt><dd 
class="list"><span 
class="cmss-10">FileDateToDateTime </span>(<a 
href="unitsse75.htm#x102-83000022.4">724<!--tex4ht:ref: se:TBufStream--></a>), <span 
class="cmss-10">FileExists </span>(<a 
href="#x104-86700022.6">747<!--tex4ht:ref: se:TBufStream--></a>), <span 
class="cmss-10">FileGetAttr </span>(<a 
href="#x104-86800022.6">747<!--tex4ht:ref: se:TBufStream--></a>)</dd></dl>
<!--l. 1243--><p class="noindent"><span 
class="cmssbx-10">Listing: </span><span 
class="cmss-10">sysutex/ex36.pp</span><HR/><div class="listinginput">
<!--l. 1243--><p class="noindent"><div class="obeylines-v">   <span 
class="cmtt-10">Program</span>&nbsp;<span 
class="cmtt-10">Example36;</span>
<br>
<br>   <span 
class="cmtt-10">{</span>&nbsp;<span 
class="cmtt-10">This</span>&nbsp;<span 
class="cmtt-10">program</span>&nbsp;<span 
class="cmtt-10">demonstrates</span>&nbsp;<span 
class="cmtt-10">the</span>&nbsp;<span 
class="cmtt-10">FileAge</span>&nbsp;<span 
class="cmtt-10">function</span>&nbsp;<span 
class="cmtt-10">}</span>
<br>
<br>   <span 
class="cmtt-10">Uses</span>&nbsp;<span 
class="cmtt-10">sysutils;</span>
<br>
<br>   <span 
class="cmtt-10">Var</span>&nbsp;<span 
class="cmtt-10">S</span>&nbsp;<span 
class="cmtt-10">:</span>&nbsp;<span 
class="cmtt-10">TDateTime;</span>
<br>   &nbsp;&nbsp;&nbsp;&nbsp;<span 
class="cmtt-10">fa</span>&nbsp;<span 
class="cmtt-10">:</span>&nbsp;<span 
class="cmtt-10">Longint;</span>
<br>   <span 
class="cmtt-10">Begin</span>
<br>   &nbsp;&nbsp;<span 
class="cmtt-10">fa:=FileAge('ex36.pp');</span>
<br>   &nbsp;&nbsp;<span 
class="cmtt-10">If</span>&nbsp;<span 
class="cmtt-10">Fa&lt;&gt;-1</span>&nbsp;<span 
class="cmtt-10">then</span>
<br>   &nbsp;&nbsp;&nbsp;&nbsp;<span 
class="cmtt-10">begin</span>
<br>   &nbsp;&nbsp;&nbsp;&nbsp;<span 
class="cmtt-10">S:=FileDateTodateTime(fa);</span>
<br>   &nbsp;&nbsp;&nbsp;&nbsp;<span 
class="cmtt-10">Writeln</span>&nbsp;<span 
class="cmtt-10">('I''m</span>&nbsp;<span 
class="cmtt-10">from</span>&nbsp;<span 
class="cmtt-10">',DateTimeToStr(S))</span>
<br>   &nbsp;&nbsp;&nbsp;&nbsp;<span 
class="cmtt-10">end;</span>
<br>   <span 
class="cmtt-10">End.</span>
</div></div><HR/>
<h4 class="subsectionHead"><a 
href="unitsli1.htm#QQ2-104-871" name="x104-86500022.6">FileClose</a></h4><a 
  name="dx104-865001"></a>
<dl class="list1"><dt class="list">
<span 
class="cmss-10">Declaration:</span> </dt><dd 
class="list"><span 
class="cmtt-10">Procedure FileClose(Handle : Longint);</span>
</dd><dt class="list">
<span 
class="cmss-10">Description:</span> </dt><dd 
class="list"><span 
class="cmtt-10">FileClose </span>closes the file handle <span 
class="cmtt-10">Handle</span>. After this call, attempting to read or write from
the handle will result in an error.
</dd><dt class="list">
<span 
class="cmss-10">Errors:</span> </dt><dd 
class="list">None.
</dd><dt class="list">
<span 
class="cmss-10">See also:</span> </dt><dd 
class="list"><span 
class="cmss-10">FileCreate </span>(<a 
href="#x104-86600022.6">746<!--tex4ht:ref: se:TBufStream--></a>), <span 
class="cmss-10">FileWrite </span>(<a 
href="#x104-87700022.6">753<!--tex4ht:ref: se:TBufStream--></a>), <span 
class="cmss-10">FileOpen </span>(<a 
href="#x104-87000022.6">749<!--tex4ht:ref: se:TBufStream--></a>), <span 
class="cmss-10">FileRead </span>(<a 
href="#x104-87100022.6">750<!--tex4ht:ref: se:TBufStream--></a>), <span 
class="cmss-10">FileTruncate </span>(<a 
href="#x104-87600022.6">752<!--tex4ht:ref: se:TBufStream--></a>), <span 
class="cmss-10">FileSeek</span>
(<a 
href="#x104-87300022.6">751<!--tex4ht:ref: se:TBufStream--></a>)</dd></dl>
                                                                            

                                                                            
<!--l. 1260--><p class="noindent">For an example, see <span 
class="cmss-10">FileCreate </span>(<a 
href="#x104-86600022.6">746<!--tex4ht:ref: se:TBufStream--></a>)
<h4 class="subsectionHead"><a 
href="unitsli1.htm#QQ2-104-872" name="x104-86600022.6">FileCreate</a></h4><a 
  name="dx104-866001"></a>
<dl class="list1"><dt class="list">
<span 
class="cmss-10">Declaration:</span> </dt><dd 
class="list"><span 
class="cmtt-10">Function FileCreate(Const FileName : String) : Longint;</span>
</dd><dt class="list">
<span 
class="cmss-10">Description:</span> </dt><dd 
class="list"><span 
class="cmtt-10">FileCreate </span>creates a new file with name <span 
class="cmtt-10">FileName </span>on the disk and returns a file handle
which can be used to read or write from the file with the <span 
class="cmss-10">FileRead </span>(<a 
href="#x104-87100022.6">750<!--tex4ht:ref: se:TBufStream--></a>) and <span 
class="cmss-10">FileWrite </span>(<a 
href="#x104-87700022.6">753<!--tex4ht:ref: se:TBufStream--></a>)
functions.
<!--l. 1270--><p class="noindent">If a file with name <span 
class="cmtt-10">FileName </span>already existed on the disk, it is overwritten.
</dd><dt class="list">
<span 
class="cmss-10">Errors:</span> </dt><dd 
class="list">If an error occurs (e.g. disk full or non-existent path), the function returns <span 
class="cmtt-10">-1</span>.
</dd><dt class="list">
<span 
class="cmss-10">See also:</span> </dt><dd 
class="list"><span 
class="cmss-10">FileClose </span>(<a 
href="#x104-86500022.6">745<!--tex4ht:ref: se:TBufStream--></a>), <span 
class="cmss-10">FileWrite </span>(<a 
href="#x104-87700022.6">753<!--tex4ht:ref: se:TBufStream--></a>), <span 
class="cmss-10">FileOpen </span>(<a 
href="#x104-87000022.6">749<!--tex4ht:ref: se:TBufStream--></a>), <span 
class="cmss-10">FileRead </span>(<a 
href="#x104-87100022.6">750<!--tex4ht:ref: se:TBufStream--></a>), <span 
class="cmss-10">FileTruncate </span>(<a 
href="#x104-87600022.6">752<!--tex4ht:ref: se:TBufStream--></a>), <span 
class="cmss-10">FileSeek</span>
(<a 
href="#x104-87300022.6">751<!--tex4ht:ref: se:TBufStream--></a>)</dd></dl>
<!--l. 1280--><p class="noindent"><span 
class="cmssbx-10">Listing: </span><span 
class="cmss-10">sysutex/ex37.pp</span><HR/><div class="listinginput">
<!--l. 1280--><p class="noindent"><div class="obeylines-v">   <span 
class="cmtt-10">Program</span>&nbsp;<span 
class="cmtt-10">Example37;</span>
<br>
<br>   <span 
class="cmtt-10">{</span>&nbsp;<span 
class="cmtt-10">This</span>&nbsp;<span 
class="cmtt-10">program</span>&nbsp;<span 
class="cmtt-10">demonstrates</span>&nbsp;<span 
class="cmtt-10">the</span>&nbsp;<span 
class="cmtt-10">FileCreate</span>&nbsp;<span 
class="cmtt-10">function</span>&nbsp;<span 
class="cmtt-10">}</span>
<br>
<br>   <span 
class="cmtt-10">Uses</span>&nbsp;<span 
class="cmtt-10">sysutils;</span>
<br>
<br>   <span 
class="cmtt-10">Var</span>&nbsp;<span 
class="cmtt-10">I,J,F</span>&nbsp;<span 
class="cmtt-10">:</span>&nbsp;<span 
class="cmtt-10">Longint;</span>
<br>
<br>   <span 
class="cmtt-10">Begin</span>
<br>   &nbsp;&nbsp;<span 
class="cmtt-10">F:=FileCreate</span>&nbsp;<span 
class="cmtt-10">('test.dat');</span>
<br>   &nbsp;&nbsp;<span 
class="cmtt-10">If</span>&nbsp;<span 
class="cmtt-10">F=-1</span>&nbsp;<span 
class="cmtt-10">then</span>
<br>   &nbsp;&nbsp;&nbsp;&nbsp;<span 
class="cmtt-10">Halt(1);</span>
<br>   &nbsp;&nbsp;<span 
class="cmtt-10">For</span>&nbsp;<span 
class="cmtt-10">I:=0</span>&nbsp;<span 
class="cmtt-10">to</span>&nbsp;<span 
class="cmtt-10">100</span>&nbsp;<span 
class="cmtt-10">do</span>
<br>   &nbsp;&nbsp;&nbsp;&nbsp;<span 
class="cmtt-10">FileWrite(F,I,SizeOf(i));</span>
<br>   &nbsp;&nbsp;<span 
class="cmtt-10">FileClose(f);</span>
<br>   &nbsp;&nbsp;<span 
class="cmtt-10">F:=FileOpen</span>&nbsp;<span 
class="cmtt-10">('test.dat',fmOpenRead);</span>
<br>   &nbsp;&nbsp;<span 
class="cmtt-10">For</span>&nbsp;<span 
class="cmtt-10">I:=0</span>&nbsp;<span 
class="cmtt-10">to</span>&nbsp;<span 
class="cmtt-10">100</span>&nbsp;<span 
class="cmtt-10">do</span>
<br>   &nbsp;&nbsp;&nbsp;&nbsp;<span 
class="cmtt-10">begin</span>
<br>   &nbsp;&nbsp;&nbsp;&nbsp;<span 
class="cmtt-10">FileRead</span>&nbsp;<span 
class="cmtt-10">(F,J,SizeOF(J));</span>
<br>   &nbsp;&nbsp;&nbsp;&nbsp;<span 
class="cmtt-10">If</span>&nbsp;<span 
class="cmtt-10">J&lt;&gt;I</span>&nbsp;<span 
class="cmtt-10">then</span>
<br>   &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span 
class="cmtt-10">Writeln</span>&nbsp;<span 
class="cmtt-10">('Mismatch</span>&nbsp;<span 
class="cmtt-10">at</span>&nbsp;<span 
class="cmtt-10">file</span>&nbsp;<span 
class="cmtt-10">position</span>&nbsp;<span 
class="cmtt-10">',I)</span>
<br>   &nbsp;&nbsp;&nbsp;&nbsp;<span 
class="cmtt-10">end;</span>
<br>   &nbsp;&nbsp;<span 
class="cmtt-10">FileSeek(F,0,fsFromBeginning);</span>
<br>   &nbsp;&nbsp;<span 
class="cmtt-10">Randomize;</span>
<br>   &nbsp;&nbsp;<span 
class="cmtt-10">Repeat</span>
<br>   &nbsp;&nbsp;&nbsp;&nbsp;<span 
class="cmtt-10">FileSeek(F,Random(100)*4,fsFromBeginning);</span>
<br>   &nbsp;&nbsp;&nbsp;&nbsp;<span 
class="cmtt-10">FileRead</span>&nbsp;<span 
class="cmtt-10">(F,J,SizeOf(J));</span>
<br>   &nbsp;&nbsp;&nbsp;&nbsp;<span 
class="cmtt-10">Writeln</span>&nbsp;<span 
class="cmtt-10">('Random</span>&nbsp;<span 
class="cmtt-10">read</span>&nbsp;<span 
class="cmtt-10">:</span>&nbsp;<span 
class="cmtt-10">',j);</span>
<br>   &nbsp;&nbsp;<span 
class="cmtt-10">Until</span>&nbsp;<span 
class="cmtt-10">J&gt;80;</span>
<br>   &nbsp;&nbsp;<span 
class="cmtt-10">FileClose(F);</span>
<br>   &nbsp;&nbsp;<span 
class="cmtt-10">F:=FileOpen('test.dat',fmOpenWrite);</span>
                                                                            

                                                                            
<br>   &nbsp;&nbsp;<span 
class="cmtt-10">I:=50*SizeOf(Longint);</span>
<br>   &nbsp;&nbsp;<span 
class="cmtt-10">If</span>&nbsp;<span 
class="cmtt-10">FileTruncate(F,I)</span>&nbsp;<span 
class="cmtt-10">then</span>
<br>   &nbsp;&nbsp;&nbsp;&nbsp;<span 
class="cmtt-10">Writeln('SuccessFully</span>&nbsp;<span 
class="cmtt-10">truncated</span>&nbsp;<span 
class="cmtt-10">file</span>&nbsp;<span 
class="cmtt-10">to</span>&nbsp;<span 
class="cmtt-10">',I,'</span>&nbsp;<span 
class="cmtt-10">bytes.');</span>
<br>   &nbsp;&nbsp;<span 
class="cmtt-10">FileClose(F);</span>
<br>   <span 
class="cmtt-10">End.</span>
</div></div><HR/>
<h4 class="subsectionHead"><a 
href="unitsli1.htm#QQ2-104-873" name="x104-86700022.6">FileExists</a></h4><a 
  name="dx104-867001"></a>
<dl class="list1"><dt class="list">
<span 
class="cmss-10">Declaration:</span> </dt><dd 
class="list"><span 
class="cmtt-10">Function FileExists(Const FileName : String) : Boolean;</span>
</dd><dt class="list">
<span 
class="cmss-10">Description:</span> </dt><dd 
class="list"><span 
class="cmtt-10">FileExists </span>returns <span 
class="cmtt-10">True </span>if a file with name <span 
class="cmtt-10">FileName </span>exists on the disk, <span 
class="cmtt-10">False </span>otherwise.
</dd><dt class="list">
<span 
class="cmss-10">Errors:</span> </dt><dd 
class="list">None.
</dd><dt class="list">
<span 
class="cmss-10">See also:</span> </dt><dd 
class="list"><span 
class="cmss-10">FileAge </span>(<a 
href="#x104-86400022.6">745<!--tex4ht:ref: se:TBufStream--></a>), <span 
class="cmss-10">FileGetAttr </span>(<a 
href="#x104-86800022.6">747<!--tex4ht:ref: se:TBufStream--></a>), <span 
class="cmss-10">FileSetAttr </span>(<a 
href="#x104-87400022.6">752<!--tex4ht:ref: se:TBufStream--></a>)</dd></dl>
<!--l. 1296--><p class="noindent"><span 
class="cmssbx-10">Listing: </span><span 
class="cmss-10">sysutex/ex38.pp</span><HR/><div class="listinginput">
<!--l. 1296--><p class="noindent"><div class="obeylines-v">   <span 
class="cmtt-10">Program</span>&nbsp;<span 
class="cmtt-10">Example38;</span>
<br>
<br>   <span 
class="cmtt-10">{</span>&nbsp;<span 
class="cmtt-10">This</span>&nbsp;<span 
class="cmtt-10">program</span>&nbsp;<span 
class="cmtt-10">demonstrates</span>&nbsp;<span 
class="cmtt-10">the</span>&nbsp;<span 
class="cmtt-10">FileExists</span>&nbsp;<span 
class="cmtt-10">function</span>&nbsp;<span 
class="cmtt-10">}</span>
<br>
<br>   <span 
class="cmtt-10">Uses</span>&nbsp;<span 
class="cmtt-10">sysutils;</span>
<br>
<br>   <span 
class="cmtt-10">Begin</span>
<br>   &nbsp;&nbsp;<span 
class="cmtt-10">If</span>&nbsp;<span 
class="cmtt-10">FileExists(ParamStr(0))</span>&nbsp;<span 
class="cmtt-10">Then</span>
<br>   &nbsp;&nbsp;&nbsp;&nbsp;<span 
class="cmtt-10">Writeln</span>&nbsp;<span 
class="cmtt-10">('All</span>&nbsp;<span 
class="cmtt-10">is</span>&nbsp;<span 
class="cmtt-10">well,</span>&nbsp;<span 
class="cmtt-10">I</span>&nbsp;<span 
class="cmtt-10">seem</span>&nbsp;<span 
class="cmtt-10">to</span>&nbsp;<span 
class="cmtt-10">exist.');</span>
<br>   <span 
class="cmtt-10">End.</span>
</div></div><HR/>
<h4 class="subsectionHead"><a 
href="unitsli1.htm#QQ2-104-874" name="x104-86800022.6">FileGetAttr</a></h4><a 
  name="dx104-868001"></a>
<dl class="list1"><dt class="list">
<span 
class="cmss-10">Declaration:</span> </dt><dd 
class="list"><span 
class="cmtt-10">Function FileGetAttr(Const FileName : String) : Longint;</span>
</dd><dt class="list">
<span 
class="cmss-10">Description:</span> </dt><dd 
class="list"><span 
class="cmtt-10">FileGetAttr </span>returns the attribute settings of file <span 
class="cmtt-10">FileName</span>. The attribute is a <span 
class="cmtt-10">OR</span>-ed combination
of the following constants:
    <dl class="description"><dt class="description">
<span 
class="cmbx-10">faReadOnly</span></dt><dd 
class="description">The file is read-only.
    </dd><dt class="description">
<span 
class="cmbx-10">faHidden</span></dt><dd 
class="description">The file is hidden. (On <span 
class="cmcsc-10"><small 
class="small-caps">L</small><small 
class="small-caps">I</small><small 
class="small-caps">N</small><small 
class="small-caps">U</small><small 
class="small-caps">X</small></span>, this means that the filename starts with a dot)
    </dd><dt class="description">
<span 
class="cmbx-10">faSysFile</span></dt><dd 
class="description">The file is a system file (On <span 
class="cmcsc-10"><small 
class="small-caps">L</small><small 
class="small-caps">I</small><small 
class="small-caps">N</small><small 
class="small-caps">U</small><small 
class="small-caps">X</small></span>, this means that the file is a character, block
    or FIFO file).
                                                                            

                                                                            
    </dd><dt class="description">
<span 
class="cmbx-10">faVolumeId</span></dt><dd 
class="description">Volume Label. Not possible under <span 
class="cmcsc-10"><small 
class="small-caps">L</small><small 
class="small-caps">I</small><small 
class="small-caps">N</small><small 
class="small-caps">U</small><small 
class="small-caps">X</small></span>.
    </dd><dt class="description">
<span 
class="cmbx-10">faDirectory</span></dt><dd 
class="description">File is a directory.
    </dd><dt class="description">
<span 
class="cmbx-10">faArchive</span></dt><dd 
class="description">file is an archive. Not possible on <span 
class="cmcsc-10"><small 
class="small-caps">L</small><small 
class="small-caps">I</small><small 
class="small-caps">N</small><small 
class="small-caps">U</small><small 
class="small-caps">X</small></span>.</dd></dl>
</dd><dt class="list">
<span 
class="cmss-10">Errors:</span> </dt><dd 
class="list">In case of error, -1 is returned.
</dd><dt class="list">
<span 
class="cmss-10">See also:</span> </dt><dd 
class="list"><span 
class="cmss-10">FileSetAttr </span>(<a 
href="#x104-87400022.6">752<!--tex4ht:ref: se:TBufStream--></a>), <span 
class="cmss-10">FileAge </span>(<a 
href="#x104-86400022.6">745<!--tex4ht:ref: se:TBufStream--></a>), <span 
class="cmss-10">FileGetDate </span>(<a 
href="#x104-86900022.6">749<!--tex4ht:ref: se:TBufStream--></a>).</dd></dl>
<!--l. 1323--><p class="noindent"><span 
class="cmssbx-10">Listing: </span><span 
class="cmss-10">sysutex/ex40.pp</span><HR/><div class="listinginput">
<!--l. 1323--><p class="noindent"><div class="obeylines-v">   <span 
class="cmtt-10">Program</span>&nbsp;<span 
class="cmtt-10">Example40;</span>
<br>
<br>   <span 
class="cmtt-10">{</span>&nbsp;<span 
class="cmtt-10">This</span>&nbsp;<span 
class="cmtt-10">program</span>&nbsp;<span 
class="cmtt-10">demonstrates</span>&nbsp;<span 
class="cmtt-10">the</span>&nbsp;<span 
class="cmtt-10">FileGetAttr</span>&nbsp;<span 
class="cmtt-10">function</span>&nbsp;<span 
class="cmtt-10">}</span>
<br>
<br>   <span 
class="cmtt-10">Uses</span>&nbsp;<span 
class="cmtt-10">sysutils;</span>
<br>
<br>   <span 
class="cmtt-10">Procedure</span>&nbsp;<span 
class="cmtt-10">Testit</span>&nbsp;<span 
class="cmtt-10">(Name</span>&nbsp;<span 
class="cmtt-10">:</span>&nbsp;<span 
class="cmtt-10">String);</span>
<br>
<br>   <span 
class="cmtt-10">Var</span>&nbsp;<span 
class="cmtt-10">F</span>&nbsp;<span 
class="cmtt-10">:</span>&nbsp;<span 
class="cmtt-10">Longint;</span>
<br>
<br>   <span 
class="cmtt-10">Begin</span>
<br>   &nbsp;&nbsp;<span 
class="cmtt-10">F:=FileGetAttr(Name);</span>
<br>   &nbsp;&nbsp;<span 
class="cmtt-10">If</span>&nbsp;<span 
class="cmtt-10">F&lt;&gt;-1</span>&nbsp;<span 
class="cmtt-10">then</span>
<br>   &nbsp;&nbsp;&nbsp;&nbsp;<span 
class="cmtt-10">begin</span>
<br>   &nbsp;&nbsp;&nbsp;&nbsp;<span 
class="cmtt-10">Writeln</span>&nbsp;<span 
class="cmtt-10">('Testing</span>&nbsp;<span 
class="cmtt-10">:</span>&nbsp;<span 
class="cmtt-10">',Name);</span>
<br>   &nbsp;&nbsp;&nbsp;&nbsp;<span 
class="cmtt-10">If</span>&nbsp;<span 
class="cmtt-10">(F</span>&nbsp;<span 
class="cmtt-10">and</span>&nbsp;<span 
class="cmtt-10">faReadOnly)&lt;&gt;0</span>&nbsp;<span 
class="cmtt-10">then</span>
<br>   &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span 
class="cmtt-10">Writeln</span>&nbsp;<span 
class="cmtt-10">('File</span>&nbsp;<span 
class="cmtt-10">is</span>&nbsp;<span 
class="cmtt-10">ReadOnly');</span>
<br>   &nbsp;&nbsp;&nbsp;&nbsp;<span 
class="cmtt-10">If</span>&nbsp;<span 
class="cmtt-10">(F</span>&nbsp;<span 
class="cmtt-10">and</span>&nbsp;<span 
class="cmtt-10">faHidden)&lt;&gt;0</span>&nbsp;<span 
class="cmtt-10">then</span>
<br>   &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span 
class="cmtt-10">Writeln</span>&nbsp;<span 
class="cmtt-10">('File</span>&nbsp;<span 
class="cmtt-10">is</span>&nbsp;<span 
class="cmtt-10">hidden');</span>
<br>   &nbsp;&nbsp;&nbsp;&nbsp;<span 
class="cmtt-10">If</span>&nbsp;<span 
class="cmtt-10">(F</span>&nbsp;<span 
class="cmtt-10">and</span>&nbsp;<span 
class="cmtt-10">faSysFile)&lt;&gt;0</span>&nbsp;<span 
class="cmtt-10">then</span>
<br>   &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span 
class="cmtt-10">Writeln</span>&nbsp;<span 
class="cmtt-10">('File</span>&nbsp;<span 
class="cmtt-10">is</span>&nbsp;<span 
class="cmtt-10">a</span>&nbsp;<span 
class="cmtt-10">system</span>&nbsp;<span 
class="cmtt-10">file');</span>
<br>   &nbsp;&nbsp;&nbsp;&nbsp;<span 
class="cmtt-10">If</span>&nbsp;<span 
class="cmtt-10">(F</span>&nbsp;<span 
class="cmtt-10">and</span>&nbsp;<span 
class="cmtt-10">faVolumeID)&lt;&gt;0</span>&nbsp;<span 
class="cmtt-10">then</span>
<br>   &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span 
class="cmtt-10">Writeln</span>&nbsp;<span 
class="cmtt-10">('File</span>&nbsp;<span 
class="cmtt-10">is</span>&nbsp;<span 
class="cmtt-10">a</span>&nbsp;<span 
class="cmtt-10">disk</span>&nbsp;<span 
class="cmtt-10">label');</span>
<br>   &nbsp;&nbsp;&nbsp;&nbsp;<span 
class="cmtt-10">If</span>&nbsp;<span 
class="cmtt-10">(F</span>&nbsp;<span 
class="cmtt-10">and</span>&nbsp;<span 
class="cmtt-10">faArchive)&lt;&gt;0</span>&nbsp;<span 
class="cmtt-10">then</span>
<br>   &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span 
class="cmtt-10">Writeln</span>&nbsp;<span 
class="cmtt-10">('File</span>&nbsp;<span 
class="cmtt-10">is</span>&nbsp;<span 
class="cmtt-10">artchive</span>&nbsp;<span 
class="cmtt-10">file');</span>
<br>   &nbsp;&nbsp;&nbsp;&nbsp;<span 
class="cmtt-10">If</span>&nbsp;<span 
class="cmtt-10">(F</span>&nbsp;<span 
class="cmtt-10">and</span>&nbsp;<span 
class="cmtt-10">faDirectory)&lt;&gt;0</span>&nbsp;<span 
class="cmtt-10">then</span>
<br>   &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span 
class="cmtt-10">Writeln</span>&nbsp;<span 
class="cmtt-10">('File</span>&nbsp;<span 
class="cmtt-10">is</span>&nbsp;<span 
class="cmtt-10">a</span>&nbsp;<span 
class="cmtt-10">directory');</span>
<br>   &nbsp;&nbsp;&nbsp;&nbsp;<span 
class="cmtt-10">end</span>
<br>   &nbsp;&nbsp;<span 
class="cmtt-10">else</span>
<br>   &nbsp;&nbsp;&nbsp;<span 
class="cmtt-10">Writeln</span>&nbsp;<span 
class="cmtt-10">('Error</span>&nbsp;<span 
class="cmtt-10">reading</span>&nbsp;<span 
class="cmtt-10">attribites</span>&nbsp;<span 
class="cmtt-10">of</span>&nbsp;<span 
class="cmtt-10">',Name);</span>
<br>   <span 
class="cmtt-10">end;</span>
<br>
<br>   <span 
class="cmtt-10">begin</span>
<br>   &nbsp;&nbsp;<span 
class="cmtt-10">testit</span>&nbsp;<span 
class="cmtt-10">('ex40.pp');</span>
<br>   &nbsp;&nbsp;<span 
class="cmtt-10">testit</span>&nbsp;<span 
class="cmtt-10">(ParamStr(0));</span>
<br>   &nbsp;&nbsp;<span 
class="cmtt-10">testit</span>&nbsp;<span 
class="cmtt-10">('.');</span>
<br>   &nbsp;&nbsp;<span 
class="cmtt-10">testit</span>&nbsp;<span 
class="cmtt-10">('/');</span>
                                                                            

                                                                            
<br>   <span 
class="cmtt-10">End.</span>
</div></div><HR/>
<h4 class="subsectionHead"><a 
href="unitsli1.htm#QQ2-104-875" name="x104-86900022.6">FileGetDate</a></h4><a 
  name="dx104-869001"></a>
<dl class="list1"><dt class="list">
<span 
class="cmss-10">Declaration:</span> </dt><dd 
class="list"><span 
class="cmtt-10">Function FileGetDate(Handle : Longint) : Longint;</span>
</dd><dt class="list">
<span 
class="cmss-10">Description:</span> </dt><dd 
class="list"><span 
class="cmtt-10">FileGetdate </span>returns the filetime of the opened file with filehandle <span 
class="cmtt-10">Handle</span>. It is the same as
<span 
class="cmss-10">FileAge </span>(<a 
href="#x104-86400022.6">745<!--tex4ht:ref: se:TBufStream--></a>), with this difference that <span 
class="cmtt-10">FileAge </span>only needs the file name, while <span 
class="cmtt-10">FilegetDate</span>
needs an open file handle.
</dd><dt class="list">
<span 
class="cmss-10">Errors:</span> </dt><dd 
class="list">On error, -1 is returned.
</dd><dt class="list">
<span 
class="cmss-10">See also:</span> </dt><dd 
class="list"><span 
class="cmss-10">FileAge </span>(<a 
href="#x104-86400022.6">745<!--tex4ht:ref: se:TBufStream--></a>)</dd></dl>
<!--l. 1340--><p class="noindent"><span 
class="cmssbx-10">Listing: </span><span 
class="cmss-10">sysutex/ex39.pp</span><HR/><div class="listinginput">
<!--l. 1340--><p class="noindent"><div class="obeylines-v">   <span 
class="cmtt-10">Program</span>&nbsp;<span 
class="cmtt-10">Example39;</span>
<br>
<br>   <span 
class="cmtt-10">{</span>&nbsp;<span 
class="cmtt-10">This</span>&nbsp;<span 
class="cmtt-10">program</span>&nbsp;<span 
class="cmtt-10">demonstrates</span>&nbsp;<span 
class="cmtt-10">the</span>&nbsp;<span 
class="cmtt-10">FileGetDate</span>&nbsp;<span 
class="cmtt-10">function</span>&nbsp;<span 
class="cmtt-10">}</span>
<br>
<br>   <span 
class="cmtt-10">Uses</span>&nbsp;<span 
class="cmtt-10">sysutils;</span>
<br>
<br>   <span 
class="cmtt-10">Var</span>&nbsp;<span 
class="cmtt-10">F,D</span>&nbsp;<span 
class="cmtt-10">:</span>&nbsp;<span 
class="cmtt-10">Longint;</span>
<br>
<br>   <span 
class="cmtt-10">Begin</span>
<br>   &nbsp;&nbsp;<span 
class="cmtt-10">F:=FileCreate('test.dat');</span>
<br>   &nbsp;&nbsp;<span 
class="cmtt-10">D:=FileGetDate(D);</span>
<br>   &nbsp;&nbsp;<span 
class="cmtt-10">Writeln</span>&nbsp;<span 
class="cmtt-10">('File</span>&nbsp;<span 
class="cmtt-10">crerated</span>&nbsp;<span 
class="cmtt-10">on</span>&nbsp;<span 
class="cmtt-10">',DateTimeToStr(FileDateToDateTime(D)));</span>
<br>   &nbsp;&nbsp;<span 
class="cmtt-10">FileClose(F);</span>
<br>   &nbsp;&nbsp;<span 
class="cmtt-10">DeleteFile('test.dat');</span>
<br>   <span 
class="cmtt-10">End.</span>
</div></div><HR/>
<h4 class="subsectionHead"><a 
href="unitsli1.htm#QQ2-104-876" name="x104-87000022.6">FileOpen</a></h4><a 
  name="dx104-870001"></a>
<dl class="list1"><dt class="list">
<span 
class="cmss-10">Declaration:</span> </dt><dd 
class="list"><span 
class="cmtt-10">Function FileOpen(Const FileName : string; Mode : Integer) : Longint;</span>
</dd><dt class="list">
<span 
class="cmss-10">Description:</span> </dt><dd 
class="list"><span 
class="cmtt-10">FileOpen </span>opens a file with name <span 
class="cmtt-10">FileName </span>with mode <span 
class="cmtt-10">Mode</span>. <span 
class="cmtt-10">Mode </span>can be one of the following
constants:
    <dl class="description"><dt class="description">
<span 
class="cmbx-10">fmOpenRead</span></dt><dd 
class="description">The file is opened for reading.
    </dd><dt class="description">
<span 
class="cmbx-10">fmOpenWrite</span></dt><dd 
class="description">The file is opened for writing.
                                                                            

                                                                            
    </dd><dt class="description">
<span 
class="cmbx-10">fmOpenReadWrite</span></dt><dd 
class="description">The file is opened for reading and writing.</dd></dl>
<!--l. 1354--><p class="noindent">If the file has been successfully opened, it can be read from or written to (depending on the <span 
class="cmtt-10">Mode</span>
parameter) with the <span 
class="cmss-10">FileRead </span>(<a 
href="#x104-87100022.6">750<!--tex4ht:ref: se:TBufStream--></a>) and <span 
class="cmtt-10">FileWrite </span>functions.
<!--l. 1358--><p class="noindent">Remark that you cannot open a file if it doesn&#8217;t exist yet, i.e. it will not be created for
you. If you want tp create a new file, or overwrite an old one, use the <span 
class="cmss-10">FileCreate </span>(<a 
href="#x104-86600022.6">746<!--tex4ht:ref: se:TBufStream--></a>)
function.
</dd><dt class="list">
<span 
class="cmss-10">Errors:</span> </dt><dd 
class="list">On Error, -1 is returned.
</dd><dt class="list">
<span 
class="cmss-10">See also:</span> </dt><dd 
class="list"><span 
class="cmss-10">FileClose </span>(<a 
href="#x104-86500022.6">745<!--tex4ht:ref: se:TBufStream--></a>), <span 
class="cmss-10">FileWrite </span>(<a 
href="#x104-87700022.6">753<!--tex4ht:ref: se:TBufStream--></a>), <span 
class="cmss-10">FileCreate </span>(<a 
href="#x104-86600022.6">746<!--tex4ht:ref: se:TBufStream--></a>), <span 
class="cmss-10">FileRead </span>(<a 
href="#x104-87100022.6">750<!--tex4ht:ref: se:TBufStream--></a>), <span 
class="cmss-10">FileTruncate </span>(<a 
href="#x104-87600022.6">752<!--tex4ht:ref: se:TBufStream--></a>), <span 
class="cmss-10">FileSeek</span>
(<a 
href="#x104-87300022.6">751<!--tex4ht:ref: se:TBufStream--></a>)</dd></dl>
<!--l. 1368--><p class="noindent">For an example, see <span 
class="cmss-10">FileOpen </span>(<a 
href="#x104-87000022.6">749<!--tex4ht:ref: se:TBufStream--></a>)
<h4 class="subsectionHead"><a 
href="unitsli1.htm#QQ2-104-877" name="x104-87100022.6">FileRead</a></h4><a 
  name="dx104-871001"></a>
<dl class="list1"><dt class="list">
<span 
class="cmss-10">Declaration:</span> </dt><dd 
class="list"><span 
class="cmtt-10">Function FileRead(Handle : Longint; Var Buffer; Count : longint) : Longint;</span>
</dd><dt class="list">
<span 
class="cmss-10">Description:</span> </dt><dd 
class="list"><span 
class="cmtt-10">FileRead </span>reads <span 
class="cmtt-10">Count </span>bytes from file-handle <span 
class="cmtt-10">Handle </span>and stores them into <span 
class="cmtt-10">Buffer</span>. Buffer
must be at least <span 
class="cmtt-10">Count </span>bytes long. No checking on this is performed, so be careful not to
overwrite any memory. <span 
class="cmtt-10">Handle </span>must be the result of a <span 
class="cmss-10">FileOpen </span>(<a 
href="#x104-87000022.6">749<!--tex4ht:ref: se:TBufStream--></a>) call.
</dd><dt class="list">
<span 
class="cmss-10">Errors:</span> </dt><dd 
class="list">On error, -1 is returned.
</dd><dt class="list">
<span 
class="cmss-10">See also:</span> </dt><dd 
class="list"><span 
class="cmss-10">FileClose </span>(<a 
href="#x104-86500022.6">745<!--tex4ht:ref: se:TBufStream--></a>), <span 
class="cmss-10">FileWrite </span>(<a 
href="#x104-87700022.6">753<!--tex4ht:ref: se:TBufStream--></a>), <span 
class="cmss-10">FileCreate </span>(<a 
href="#x104-86600022.6">746<!--tex4ht:ref: se:TBufStream--></a>), <span 
class="cmss-10">FileOpen </span>(<a 
href="#x104-87000022.6">749<!--tex4ht:ref: se:TBufStream--></a>), <span 
class="cmss-10">FileTruncate </span>(<a 
href="#x104-87600022.6">752<!--tex4ht:ref: se:TBufStream--></a>), <span 
class="cmss-10">FileSeek</span>
(<a 
href="#x104-87300022.6">751<!--tex4ht:ref: se:TBufStream--></a>)</dd></dl>
<!--l. 1385--><p class="noindent">For an example, see <span 
class="cmss-10">FileCreate </span>(<a 
href="#x104-86600022.6">746<!--tex4ht:ref: se:TBufStream--></a>)
<h4 class="subsectionHead"><a 
href="unitsli1.htm#QQ2-104-878" name="x104-87200022.6">FileSearch</a></h4><a 
  name="dx104-872001"></a>
<dl class="list1"><dt class="list">
<span 
class="cmss-10">Declaration:</span> </dt><dd 
class="list"><span 
class="cmtt-10">Function FileSearch(Const Name, DirList : String) : String;</span>
</dd><dt class="list">
<span 
class="cmss-10">Description:</span> </dt><dd 
class="list"><span 
class="cmtt-10">FileSearch </span>looks for the file <span 
class="cmtt-10">Name </span>in <span 
class="cmtt-10">DirList</span>, where dirlist is a list of directories, separated
by semicolons or colons. It returns the full filename of the first match found.
</dd><dt class="list">
<span 
class="cmss-10">Errors:</span> </dt><dd 
class="list">On error, an empty string is returned.
</dd><dt class="list">
<span 
class="cmss-10">See also:</span> </dt><dd 
class="list"><span 
class="cmss-10">ExpandFileName </span>(<a 
href="#x104-85600022.6">741<!--tex4ht:ref: se:TBufStream--></a>), <span 
class="cmss-10">FindFirst </span>(<a 
href="#x104-87900022.6">753<!--tex4ht:ref: se:TBufStream--></a>)</dd></dl>
<!--l. 1400--><p class="noindent"><span 
class="cmssbx-10">Listing: </span><span 
class="cmss-10">sysutex/ex41.pp</span><HR/><div class="listinginput">
                                                                            

                                                                            
<!--l. 1400--><p class="noindent"><div class="obeylines-v">   <span 
class="cmtt-10">Program</span>&nbsp;<span 
class="cmtt-10">Example41;</span>
<br>
<br>   <span 
class="cmtt-10">{</span>&nbsp;<span 
class="cmtt-10">Program</span>&nbsp;<span 
class="cmtt-10">to</span>&nbsp;<span 
class="cmtt-10">demonstrate</span>&nbsp;<span 
class="cmtt-10">the</span>&nbsp;<span 
class="cmtt-10">FileSearch</span>&nbsp;<span 
class="cmtt-10">function.</span>&nbsp;<span 
class="cmtt-10">}</span>
<br>
<br>   <span 
class="cmtt-10">Uses</span>&nbsp;<span 
class="cmtt-10">Sysutils;</span>
<br>
<br>   <span 
class="cmtt-10">Const</span>
<br>   <span 
class="cmtt-10">{$ifdef</span>&nbsp;<span 
class="cmtt-10">unix}</span>
<br>   &nbsp;&nbsp;<span 
class="cmtt-10">FN</span>&nbsp;<span 
class="cmtt-10">=</span>&nbsp;<span 
class="cmtt-10">'find';</span>
<br>   &nbsp;&nbsp;<span 
class="cmtt-10">P</span>&nbsp;<span 
class="cmtt-10">=</span>&nbsp;<span 
class="cmtt-10">'.:/bin:/usr/bin';</span>
<br>   <span 
class="cmtt-10">{$else}</span>
<br>   &nbsp;&nbsp;<span 
class="cmtt-10">FN</span>&nbsp;<span 
class="cmtt-10">=</span>&nbsp;<span 
class="cmtt-10">'find.exe';</span>
<br>   &nbsp;&nbsp;<span 
class="cmtt-10">P</span>&nbsp;<span 
class="cmtt-10">=</span>&nbsp;<span 
class="cmtt-10">'c:\dos;c:\windows;c:\windows\system;c:\windows\system32';</span>
<br>   <span 
class="cmtt-10">{$endif}</span>
<br>
<br>   <span 
class="cmtt-10">begin</span>
<br>   &nbsp;&nbsp;<span 
class="cmtt-10">Writeln</span>&nbsp;<span 
class="cmtt-10">('find</span>&nbsp;<span 
class="cmtt-10">is</span>&nbsp;<span 
class="cmtt-10">in</span>&nbsp;<span 
class="cmtt-10">:</span>&nbsp;<span 
class="cmtt-10">',FileSearch</span>&nbsp;<span 
class="cmtt-10">(FN,P));</span>
<br>   <span 
class="cmtt-10">end.</span>
</div></div><HR/>
<h4 class="subsectionHead"><a 
href="unitsli1.htm#QQ2-104-879" name="x104-87300022.6">FileSeek</a></h4><a 
  name="dx104-873001"></a>
<dl class="list1"><dt class="list">
<span 
class="cmss-10">Declaration:</span> </dt><dd 
class="list"><span 
class="cmtt-10">Function FileSeek(Handle,Offset,Origin : Longint) : Longint;</span>
</dd><dt class="list">
<span 
class="cmss-10">Description:</span> </dt><dd 
class="list"><span 
class="cmtt-10">FileSeek </span>sets the file pointer on position <span 
class="cmtt-10">Offset</span>, starting from <span 
class="cmtt-10">Origin</span>. Origin can be one of the
following values:
    <dl class="description"><dt class="description">
<span 
class="cmbx-10">fsFromBeginning</span></dt><dd 
class="description"><span 
class="cmtt-10">Offset </span>is relative to the first byte of the file. This position is zero-based.
    i.e. the first byte is at offset 0.
    </dd><dt class="description">
<span 
class="cmbx-10">fsFromCurrent</span></dt><dd 
class="description"><span 
class="cmtt-10">Offset </span>is relative to the current position.
    </dd><dt class="description">
<span 
class="cmbx-10">fsFromEnd</span></dt><dd 
class="description"><span 
class="cmtt-10">Offset </span>is relative to the end of the file. This means that <span 
class="cmtt-10">Offset </span>can only be
    zero or negative in this case.</dd></dl>
<!--l. 1416--><p class="noindent">If successfull, the function returns the new file position, relative to the beginning of the
file.
<!--l. 1419--><p class="noindent"><span 
class="cmti-10">Remark: </span>The abovementioned constants do not exist in Delphi.
</dd><dt class="list">
<span 
class="cmss-10">Errors:</span> </dt><dd 
class="list">On error, -1 is returned.
</dd><dt class="list">
<span 
class="cmss-10">See also:</span> </dt><dd 
class="list"><span 
class="cmss-10">FileClose </span>(<a 
href="#x104-86500022.6">745<!--tex4ht:ref: se:TBufStream--></a>), <span 
class="cmss-10">FileWrite </span>(<a 
href="#x104-87700022.6">753<!--tex4ht:ref: se:TBufStream--></a>), <span 
class="cmss-10">FileCreate </span>(<a 
href="#x104-86600022.6">746<!--tex4ht:ref: se:TBufStream--></a>), <span 
class="cmss-10">FileOpen </span>(<a 
href="#x104-87000022.6">749<!--tex4ht:ref: se:TBufStream--></a>) <span 
class="cmss-10">FileRead </span>(<a 
href="#x104-87100022.6">750<!--tex4ht:ref: se:TBufStream--></a>), <span 
class="cmss-10">FileTruncate</span>
(<a 
href="#x104-87600022.6">752<!--tex4ht:ref: se:TBufStream--></a>)</dd></dl>
<!--l. 1427--><p class="noindent"><span 
class="cmssbx-10">Listing: </span><span 
class="cmss-10">sysutex/ex42.pp</span><HR/><div class="listinginput">
                                                                            

                                                                            
<!--l. 1427--><p class="noindent"><div class="obeylines-v">   <span 
class="cmtt-10">Program</span>&nbsp;<span 
class="cmtt-10">Example42;</span>
<br>
<br>   <span 
class="cmtt-10">{</span>&nbsp;<span 
class="cmtt-10">This</span>&nbsp;<span 
class="cmtt-10">program</span>&nbsp;<span 
class="cmtt-10">demonstrates</span>&nbsp;<span 
class="cmtt-10">the</span>&nbsp;<span 
class="cmtt-10">FileSetAttr</span>&nbsp;<span 
class="cmtt-10">function</span>&nbsp;<span 
class="cmtt-10">}</span>
<br>
<br>   <span 
class="cmtt-10">Uses</span>&nbsp;<span 
class="cmtt-10">sysutils;</span>
<br>
<br>   <span 
class="cmtt-10">Begin</span>
<br>   &nbsp;&nbsp;<span 
class="cmtt-10">If</span>&nbsp;<span 
class="cmtt-10">FileSetAttr</span>&nbsp;<span 
class="cmtt-10">('ex40.pp',faReadOnly</span>&nbsp;<span 
class="cmtt-10">or</span>&nbsp;<span 
class="cmtt-10">faHidden)=0</span>&nbsp;<span 
class="cmtt-10">then</span>
<br>   &nbsp;&nbsp;&nbsp;&nbsp;<span 
class="cmtt-10">Writeln</span>&nbsp;<span 
class="cmtt-10">('Successfully</span>&nbsp;<span 
class="cmtt-10">made</span>&nbsp;<span 
class="cmtt-10">file</span>&nbsp;<span 
class="cmtt-10">hidden</span>&nbsp;<span 
class="cmtt-10">and</span>&nbsp;<span 
class="cmtt-10">read-only.')</span>
<br>   &nbsp;&nbsp;<span 
class="cmtt-10">else</span>
<br>   &nbsp;&nbsp;&nbsp;&nbsp;<span 
class="cmtt-10">Writeln</span>&nbsp;<span 
class="cmtt-10">('Coulnd''t</span>&nbsp;<span 
class="cmtt-10">make</span>&nbsp;<span 
class="cmtt-10">file</span>&nbsp;<span 
class="cmtt-10">hidden</span>&nbsp;<span 
class="cmtt-10">and</span>&nbsp;<span 
class="cmtt-10">read-only.');</span>
<br>   <span 
class="cmtt-10">End.</span>
</div></div><HR/>
<!--l. 1430--><p class="noindent">For an example, see <span 
class="cmss-10">FileCreate </span>(<a 
href="#x104-86600022.6">746<!--tex4ht:ref: se:TBufStream--></a>)
<h4 class="subsectionHead"><a 
href="unitsli1.htm#QQ2-104-880" name="x104-87400022.6">FileSetAttr (Not on Linux)</a></h4><a 
  name="dx104-874001"></a>
<dl class="list1"><dt class="list">
<span 
class="cmss-10">Declaration:</span> </dt><dd 
class="list"><span 
class="cmtt-10">Function FileSetAttr(Const Filename : String; Attr: longint) : Longint;</span>
</dd><dt class="list">
<span 
class="cmss-10">Description:</span> </dt><dd 
class="list"><span 
class="cmtt-10">FileSetAttr </span>sets the attributes of <span 
class="cmtt-10">FileName </span>to <span 
class="cmtt-10">Attr</span>. If the function was successful, 0 is
returned, -1 otherwise.
<!--l. 1439--><p class="noindent"><span 
class="cmtt-10">Attr </span>can be set to an OR-ed combination of the pre-defined <span 
class="cmtt-10">faXXX </span>constants.
</dd><dt class="list">
<span 
class="cmss-10">Errors:</span> </dt><dd 
class="list">On error, -1 is returned (always on linux).
</dd><dt class="list">
<span 
class="cmss-10">See also:</span> </dt><dd 
class="list"><span 
class="cmss-10">FileGetAttr </span>(<a 
href="#x104-86800022.6">747<!--tex4ht:ref: se:TBufStream--></a>), <span 
class="cmss-10">FileGetDate </span>(<a 
href="#x104-86900022.6">749<!--tex4ht:ref: se:TBufStream--></a>), <span 
class="cmss-10">FileSetDate </span>(<a 
href="#x104-87500022.6">752<!--tex4ht:ref: se:TBufStream--></a>).</dd></dl>
<h4 class="subsectionHead"><a 
href="unitsli1.htm#QQ2-104-881" name="x104-87500022.6">FileSetDate (Not on Linux)</a></h4><a 
  name="dx104-875001"></a>
<dl class="list1"><dt class="list">
<span 
class="cmss-10">Declaration:</span> </dt><dd 
class="list"><span 
class="cmtt-10">Function FileSetDate(Handle,Age : Longint) : Longint;</span>
</dd><dt class="list">
<span 
class="cmss-10">Description:</span> </dt><dd 
class="list"><span 
class="cmtt-10">FileSetDate </span>sets the file date of the file with handle <span 
class="cmtt-10">Handle </span>to <span 
class="cmtt-10">Age</span>, where <span 
class="cmtt-10">Age </span>is a DOS
date-and-time stamp value.
<!--l. 1455--><p class="noindent">The function returns zero of successfull.
</dd><dt class="list">
<span 
class="cmss-10">Errors:</span> </dt><dd 
class="list">On Linux, -1 is always returned, since this is impossible to implement. On Windows and
DOS, a negative error code is returned.
</dd><dt class="list">
<span 
class="cmss-10">See also:</span> </dt><dd 
class="list"></dd></dl>
<h4 class="subsectionHead"><a 
href="unitsli1.htm#QQ2-104-882" name="x104-87600022.6">FileTruncate</a></h4><a 
  name="dx104-876001"></a>
<dl class="list1"><dt class="list">
<span 
class="cmss-10">Declaration:</span> </dt><dd 
class="list"><span 
class="cmtt-10">Function FileTruncate(Handle,Size: Longint) : boolean;</span>
                                                                            

                                                                            
</dd><dt class="list">
<span 
class="cmss-10">Description:</span> </dt><dd 
class="list"><span 
class="cmtt-10">FileTruncate </span>truncates the file with handle <span 
class="cmtt-10">Handle </span>to <span 
class="cmtt-10">Size </span>bytes. The file must have
been opened for writing prior to this call. The function returns <span 
class="cmtt-10">True </span>is successful, <span 
class="cmtt-10">False</span>
otherwise.
</dd><dt class="list">
<span 
class="cmss-10">Errors:</span> </dt><dd 
class="list">On error, the function returns <span 
class="cmtt-10">False</span>.
</dd><dt class="list">
<span 
class="cmss-10">See also:</span> </dt><dd 
class="list"><span 
class="cmss-10">FileClose </span>(<a 
href="#x104-86500022.6">745<!--tex4ht:ref: se:TBufStream--></a>), <span 
class="cmss-10">FileWrite </span>(<a 
href="#x104-87700022.6">753<!--tex4ht:ref: se:TBufStream--></a>), <span 
class="cmss-10">FileCreate </span>(<a 
href="#x104-86600022.6">746<!--tex4ht:ref: se:TBufStream--></a>), <span 
class="cmss-10">FileOpen </span>(<a 
href="#x104-87000022.6">749<!--tex4ht:ref: se:TBufStream--></a>) <span 
class="cmss-10">FileRead </span>(<a 
href="#x104-87100022.6">750<!--tex4ht:ref: se:TBufStream--></a>), <span 
class="cmss-10">FileSeek</span>
(<a 
href="#x104-87300022.6">751<!--tex4ht:ref: se:TBufStream--></a>)</dd></dl>
<!--l. 1478--><p class="noindent">For an example, see <span 
class="cmss-10">FileCreate </span>(<a 
href="#x104-86600022.6">746<!--tex4ht:ref: se:TBufStream--></a>).
<h4 class="subsectionHead"><a 
href="unitsli1.htm#QQ2-104-883" name="x104-87700022.6">FileWrite</a></h4><a 
  name="dx104-877001"></a>
<dl class="list1"><dt class="list">
<span 
class="cmss-10">Declaration:</span> </dt><dd 
class="list"><span 
class="cmtt-10">Function FileWrite(Handle : Longint; Var Buffer; Count : Longint) :</span>
<span 
class="cmtt-10">Longint;</span>
</dd><dt class="list">
<span 
class="cmss-10">Description:</span> </dt><dd 
class="list"><span 
class="cmtt-10">FileWrite </span>writes <span 
class="cmtt-10">Count </span>bytes from <span 
class="cmtt-10">Buffer </span>to the file with handle <span 
class="cmtt-10">Handle</span>. Prior to this
call, the file must have been opened for writing. <span 
class="cmtt-10">Buffer </span>must be at least <span 
class="cmtt-10">Count </span>bytes large,
or a memory access error may occur.
<!--l. 1489--><p class="noindent">The function returns the number of bytes written, or -1 in case of an error.
</dd><dt class="list">
<span 
class="cmss-10">Errors:</span> </dt><dd 
class="list">In case of error, -1 is returned.
</dd><dt class="list">
<span 
class="cmss-10">See also:</span> </dt><dd 
class="list"><span 
class="cmss-10">FileClose </span>(<a 
href="#x104-86500022.6">745<!--tex4ht:ref: se:TBufStream--></a>), <span 
class="cmss-10">FileCreate </span>(<a 
href="#x104-86600022.6">746<!--tex4ht:ref: se:TBufStream--></a>), <span 
class="cmss-10">FileOpen </span>(<a 
href="#x104-87000022.6">749<!--tex4ht:ref: se:TBufStream--></a>) <span 
class="cmss-10">FileRead </span>(<a 
href="#x104-87100022.6">750<!--tex4ht:ref: se:TBufStream--></a>), <span 
class="cmss-10">FileTruncate </span>(<a 
href="#x104-87600022.6">752<!--tex4ht:ref: se:TBufStream--></a>), <span 
class="cmss-10">FileSeek</span>
(<a 
href="#x104-87300022.6">751<!--tex4ht:ref: se:TBufStream--></a>)</dd></dl>
<!--l. 1498--><p class="noindent">For an example, see <span 
class="cmss-10">FileCreate </span>(<a 
href="#x104-86600022.6">746<!--tex4ht:ref: se:TBufStream--></a>).
<h4 class="subsectionHead"><a 
href="unitsli1.htm#QQ2-104-884" name="x104-87800022.6">FindClose</a></h4><a 
  name="dx104-878001"></a>
<dl class="list1"><dt class="list">
<span 
class="cmss-10">Declaration:</span> </dt><dd 
class="list"><span 
class="cmtt-10">Procedure FindClose(Var F : TSearchrec);</span>
</dd><dt class="list">
<span 
class="cmss-10">Description:</span> </dt><dd 
class="list"><span 
class="cmtt-10">FindClose </span>ends a series of <span 
class="cmss-10">FindFirst </span>(<a 
href="#x104-87900022.6">753<!--tex4ht:ref: se:TBufStream--></a>)/<span 
class="cmss-10">FindNext </span>(<a 
href="#x104-88000022.6">754<!--tex4ht:ref: se:TBufStream--></a>) calls, and frees any memory used
by these calls. It is <span 
class="cmti-10">absolutely </span>necessary to do this call, or huge memory losses may occur.
</dd><dt class="list">
<span 
class="cmss-10">Errors:</span> </dt><dd 
class="list">None.
</dd><dt class="list">
<span 
class="cmss-10">See also:</span> </dt><dd 
class="list"><span 
class="cmss-10">FindFirst </span>(<a 
href="#x104-87900022.6">753<!--tex4ht:ref: se:TBufStream--></a>), <span 
class="cmss-10">FindNext </span>(<a 
href="#x104-88000022.6">754<!--tex4ht:ref: se:TBufStream--></a>).</dd></dl>
<!--l. 1513--><p class="noindent">For an example, see <span 
class="cmss-10">FindFirst </span>(<a 
href="#x104-87900022.6">753<!--tex4ht:ref: se:TBufStream--></a>).
<h4 class="subsectionHead"><a 
href="unitsli1.htm#QQ2-104-885" name="x104-87900022.6">FindFirst</a></h4><a 
  name="dx104-879001"></a>
                                                                            

                                                                            
<dl class="list1"><dt class="list">
<span 
class="cmss-10">Declaration:</span> </dt><dd 
class="list"><span 
class="cmtt-10">Function FindFirst(Const Path : String; Attr : Longint; Var Rslt :</span>
<span 
class="cmtt-10">TSearchRec) : Longint;</span>
</dd><dt class="list">
<span 
class="cmss-10">Description:</span> </dt><dd 
class="list"><span 
class="cmtt-10">FindFirst </span>looks for files that match the name (possibly with wildcards) in <span 
class="cmtt-10">Path </span>and
attributes <span 
class="cmtt-10">Attr</span>. It then fills up the <span 
class="cmtt-10">Rslt </span>record with data gathered about the file. It returns
0 if a file matching the specified criteria is found, a nonzero value (-1 on linux) otherwise.
<!--l. 1525--><p class="noindent">The <span 
class="cmtt-10">Rslt </span>record can be fed to subsequent calls to <span 
class="cmtt-10">FindNext</span>, in order to find other files
matching the specifications.
<!--l. 1528--><p class="noindent"><span 
class="cmti-10">remark: </span>A <span 
class="cmtt-10">FindFirst </span>call must <span 
class="cmti-10">always </span>be followed by a <span 
class="cmss-10">FindClose </span>(<a 
href="#x104-87800022.6">753<!--tex4ht:ref: se:TBufStream--></a>) call with the same
<span 
class="cmtt-10">Rslt </span>record. Failure to do so will result in memory loss.
</dd><dt class="list">
<span 
class="cmss-10">Errors:</span> </dt><dd 
class="list">On error the function returns -1 on linux, a nonzero error code on Windows.
</dd><dt class="list">
<span 
class="cmss-10">See also:</span> </dt><dd 
class="list"><span 
class="cmss-10">FindClose </span>(<a 
href="unitsse5.htm#x12-520002.3">86<!--tex4ht:ref: se:TBufStream--></a>)FindCloseSys, <span 
class="cmss-10">FindNext </span>(<a 
href="#x104-88000022.6">754<!--tex4ht:ref: se:TBufStream--></a>).</dd></dl>
<!--l. 1537--><p class="noindent"><span 
class="cmssbx-10">Listing: </span><span 
class="cmss-10">sysutex/ex43.pp</span><HR/><div class="listinginput">
<!--l. 1537--><p class="noindent"><div class="obeylines-v">   <span 
class="cmtt-10">Program</span>&nbsp;<span 
class="cmtt-10">Example43;</span>
<br>
<br>   <span 
class="cmtt-10">{</span>&nbsp;<span 
class="cmtt-10">This</span>&nbsp;<span 
class="cmtt-10">program</span>&nbsp;<span 
class="cmtt-10">demonstrates</span>&nbsp;<span 
class="cmtt-10">the</span>&nbsp;<span 
class="cmtt-10">FindFirst</span>&nbsp;<span 
class="cmtt-10">function</span>&nbsp;<span 
class="cmtt-10">}</span>
<br>
<br>   <span 
class="cmtt-10">Uses</span>&nbsp;<span 
class="cmtt-10">SysUtils;</span>
<br>
<br>   <span 
class="cmtt-10">Var</span>&nbsp;<span 
class="cmtt-10">Info</span>&nbsp;<span 
class="cmtt-10">:</span>&nbsp;<span 
class="cmtt-10">TSearchRec;</span>
<br>   &nbsp;&nbsp;&nbsp;&nbsp;<span 
class="cmtt-10">Count</span>&nbsp;<span 
class="cmtt-10">:</span>&nbsp;<span 
class="cmtt-10">Longint;</span>
<br>
<br>   <span 
class="cmtt-10">Begin</span>
<br>   &nbsp;&nbsp;<span 
class="cmtt-10">Count:=0;</span>
<br>   &nbsp;&nbsp;<span 
class="cmtt-10">If</span>&nbsp;<span 
class="cmtt-10">FindFirst</span>&nbsp;<span 
class="cmtt-10">('/*',faAnyFile</span>&nbsp;<span 
class="cmtt-10">and</span>&nbsp;<span 
class="cmtt-10">faDirectory,Info)=0</span>&nbsp;<span 
class="cmtt-10">then</span>
<br>   &nbsp;&nbsp;&nbsp;&nbsp;<span 
class="cmtt-10">begin</span>
<br>   &nbsp;&nbsp;&nbsp;&nbsp;<span 
class="cmtt-10">Repeat</span>
<br>   &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span 
class="cmtt-10">Inc(Count);</span>
<br>   &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span 
class="cmtt-10">With</span>&nbsp;<span 
class="cmtt-10">Info</span>&nbsp;<span 
class="cmtt-10">do</span>
<br>   &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span 
class="cmtt-10">begin</span>
<br>   &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span 
class="cmtt-10">If</span>&nbsp;<span 
class="cmtt-10">(Attr</span>&nbsp;<span 
class="cmtt-10">and</span>&nbsp;<span 
class="cmtt-10">faDirectory)</span>&nbsp;<span 
class="cmtt-10">=</span>&nbsp;<span 
class="cmtt-10">faDirectory</span>&nbsp;<span 
class="cmtt-10">then</span>
<br>   &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span 
class="cmtt-10">Write('Dir</span>&nbsp;<span 
class="cmtt-10">:</span>&nbsp;<span 
class="cmtt-10">');</span>
<br>   &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span 
class="cmtt-10">Writeln</span>&nbsp;<span 
class="cmtt-10">(Name:40,Size:15);</span>
<br>   &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span 
class="cmtt-10">end;</span>
<br>   &nbsp;&nbsp;&nbsp;&nbsp;<span 
class="cmtt-10">Until</span>&nbsp;<span 
class="cmtt-10">FindNext(info)&lt;&gt;0;</span>
<br>   &nbsp;&nbsp;&nbsp;&nbsp;<span 
class="cmtt-10">end;</span>
<br>   &nbsp;&nbsp;<span 
class="cmtt-10">FindClose(Info);</span>
<br>   &nbsp;&nbsp;<span 
class="cmtt-10">Writeln</span>&nbsp;<span 
class="cmtt-10">('Finished</span>&nbsp;<span 
class="cmtt-10">search.</span>&nbsp;<span 
class="cmtt-10">Found</span>&nbsp;<span 
class="cmtt-10">',Count,'</span>&nbsp;<span 
class="cmtt-10">matches');</span>
<br>
<br>   <span 
class="cmtt-10">End.</span>
</div></div><HR/>
<h4 class="subsectionHead"><a 
href="unitsli1.htm#QQ2-104-886" name="x104-88000022.6">FindNext</a></h4><a 
  name="dx104-880001"></a>
                                                                            

                                                                            
<dl class="list1"><dt class="list">
<span 
class="cmss-10">Declaration:</span> </dt><dd 
class="list"><span 
class="cmtt-10">Function FindNext(Var Rslt : TSearchRec) : Longint;</span>
</dd><dt class="list">
<span 
class="cmss-10">Description:</span> </dt><dd 
class="list"><span 
class="cmtt-10">FindNext </span>finds a next occurrence of a search sequence initiated by <span 
class="cmtt-10">FindFirst</span>. If another
record matching the criteria in Rslt is found, 0 is returned, a nonzero constant is returned
otherwise.
<!--l. 1548--><p class="noindent"><span 
class="cmti-10">remark: </span>The last <span 
class="cmtt-10">FindNext </span>call must <span 
class="cmti-10">always </span>be followed by a <span 
class="cmtt-10">FindClose </span>call with the same
<span 
class="cmtt-10">Rslt </span>record. Failure to do so will result in memory loss.
</dd><dt class="list">
<span 
class="cmss-10">Errors:</span> </dt><dd 
class="list">On error (no more file is found), a nonzero constant is returned.
</dd><dt class="list">
<span 
class="cmss-10">See also:</span> </dt><dd 
class="list"><span 
class="cmss-10">FindFirst </span>(<a 
href="#x104-87900022.6">753<!--tex4ht:ref: se:TBufStream--></a>), <span 
class="cmss-10">FindClose </span>(<a 
href="unitsse5.htm#x12-520002.3">86<!--tex4ht:ref: se:TBufStream--></a>)</dd></dl>
<!--l. 1557--><p class="noindent">For an example, see <span 
class="cmss-10">FindFirst </span>(<a 
href="#x104-87900022.6">753<!--tex4ht:ref: se:TBufStream--></a>)
<h4 class="subsectionHead"><a 
href="unitsli1.htm#QQ2-104-887" name="x104-88100022.6">GetDirs</a></h4><a 
  name="dx104-881001"></a>
<dl class="list1"><dt class="list">
<span 
class="cmss-10">Declaration:</span> </dt><dd 
class="list"><span 
class="cmtt-10">Function GetDirs(Var DirName : String; Var Dirs : Array of pchar) :</span>
<span 
class="cmtt-10">Longint;</span>
</dd><dt class="list">
<span 
class="cmss-10">Description:</span> </dt><dd 
class="list"><span 
class="cmtt-10">GetDirs </span>splits DirName in a null-byte separated list of directory names, <span 
class="cmtt-10">Dirs </span>is an array of
<span 
class="cmtt-10">PChars</span>, pointing to these directory names. The function returns the number of directories
found, or -1 if none were found. DirName must contain only OSDirSeparator as Directory
separator chars.
</dd><dt class="list">
<span 
class="cmss-10">Errors:</span> </dt><dd 
class="list">None.
</dd><dt class="list">
<span 
class="cmss-10">See also:</span> </dt><dd 
class="list"><span 
class="cmss-10">ExtractRelativePath </span>(<a 
href="#x104-86300022.6">744<!--tex4ht:ref: se:TBufStream--></a>)</dd></dl>
<!--l. 1573--><p class="noindent"><span 
class="cmssbx-10">Listing: </span><span 
class="cmss-10">sysutex/ex45.pp</span><HR/><div class="listinginput">
<!--l. 1573--><p class="noindent"><div class="obeylines-v">   <span 
class="cmtt-10">Program</span>&nbsp;<span 
class="cmtt-10">Example45;</span>
<br>
<br>   <span 
class="cmtt-10">{</span>&nbsp;<span 
class="cmtt-10">This</span>&nbsp;<span 
class="cmtt-10">program</span>&nbsp;<span 
class="cmtt-10">demonstrates</span>&nbsp;<span 
class="cmtt-10">the</span>&nbsp;<span 
class="cmtt-10">GetDirs</span>&nbsp;<span 
class="cmtt-10">function</span>&nbsp;<span 
class="cmtt-10">}</span>
<br>   <span 
class="cmtt-10">{$H+}</span>
<br>
<br>   <span 
class="cmtt-10">Uses</span>&nbsp;<span 
class="cmtt-10">sysutils;</span>
<br>
<br>   <span 
class="cmtt-10">Var</span>&nbsp;<span 
class="cmtt-10">Dirs</span>&nbsp;<span 
class="cmtt-10">:</span>&nbsp;<span 
class="cmtt-10">Array[0..127]</span>&nbsp;<span 
class="cmtt-10">of</span>&nbsp;<span 
class="cmtt-10">pchar;</span>
<br>   &nbsp;&nbsp;&nbsp;&nbsp;<span 
class="cmtt-10">I,Count</span>&nbsp;<span 
class="cmtt-10">:</span>&nbsp;<span 
class="cmtt-10">longint;</span>
<br>   &nbsp;&nbsp;&nbsp;&nbsp;<span 
class="cmtt-10">Dir,NewDir</span>&nbsp;<span 
class="cmtt-10">:</span>&nbsp;<span 
class="cmtt-10">String;</span>
<br>
<br>   <span 
class="cmtt-10">Begin</span>
<br>   &nbsp;&nbsp;<span 
class="cmtt-10">Dir:=GetCurrentDir;</span>
<br>   &nbsp;&nbsp;<span 
class="cmtt-10">Writeln</span>&nbsp;<span 
class="cmtt-10">('Dir</span>&nbsp;<span 
class="cmtt-10">:</span>&nbsp;<span 
class="cmtt-10">',Dir);</span>
<br>   &nbsp;&nbsp;<span 
class="cmtt-10">NewDir:='';</span>
<br>   &nbsp;&nbsp;<span 
class="cmtt-10">count:=GetDirs(Dir,Dirs);</span>
                                                                            

                                                                            
<br>   &nbsp;&nbsp;<span 
class="cmtt-10">For</span>&nbsp;<span 
class="cmtt-10">I:=0</span>&nbsp;<span 
class="cmtt-10">to</span>&nbsp;<span 
class="cmtt-10">Count-1</span>&nbsp;<span 
class="cmtt-10">do</span>
<br>   &nbsp;&nbsp;&nbsp;&nbsp;<span 
class="cmtt-10">begin</span>
<br>   &nbsp;&nbsp;&nbsp;&nbsp;<span 
class="cmtt-10">NewDir:=NewDir+'/'+StrPas(Dirs[I]);</span>
<br>   &nbsp;&nbsp;&nbsp;&nbsp;<span 
class="cmtt-10">Writeln</span>&nbsp;<span 
class="cmtt-10">(NewDir);</span>
<br>   &nbsp;&nbsp;&nbsp;&nbsp;<span 
class="cmtt-10">end;</span>
<br>   <span 
class="cmtt-10">End.</span>
</div></div><HR/>
<h4 class="subsectionHead"><a 
href="unitsli1.htm#QQ2-104-888" name="x104-88200022.6">RenameFile</a></h4><a 
  name="dx104-882001"></a>
<dl class="list1"><dt class="list">
<span 
class="cmss-10">Declaration:</span> </dt><dd 
class="list"><span 
class="cmtt-10">Function RenameFile(Const OldName, NewName : String) : Boolean;</span>
</dd><dt class="list">
<span 
class="cmss-10">Description:</span> </dt><dd 
class="list"><span 
class="cmtt-10">RenameFile </span>renames a file from <span 
class="cmtt-10">OldName </span>to <span 
class="cmtt-10">NewName</span>. The function returns <span 
class="cmtt-10">True </span>if
successful, <span 
class="cmtt-10">False </span>otherwise.
<!--l. 1583--><p class="noindent"><span 
class="cmti-10">Remark: </span>you cannot rename across disks or partitions.
</dd><dt class="list">
<span 
class="cmss-10">Errors:</span> </dt><dd 
class="list">On Error, <span 
class="cmtt-10">False </span>is returned.
</dd><dt class="list">
<span 
class="cmss-10">See also:</span> </dt><dd 
class="list"><span 
class="cmss-10">DeleteFile </span>(<a 
href="#x104-85400022.6">739<!--tex4ht:ref: se:TBufStream--></a>)</dd></dl>
<!--l. 1590--><p class="noindent"><span 
class="cmssbx-10">Listing: </span><span 
class="cmss-10">sysutex/ex44.pp</span><HR/><div class="listinginput">
<!--l. 1590--><p class="noindent"><div class="obeylines-v">   <span 
class="cmtt-10">Program</span>&nbsp;<span 
class="cmtt-10">Example44;</span>
<br>
<br>   <span 
class="cmtt-10">{</span>&nbsp;<span 
class="cmtt-10">This</span>&nbsp;<span 
class="cmtt-10">program</span>&nbsp;<span 
class="cmtt-10">demonstrates</span>&nbsp;<span 
class="cmtt-10">the</span>&nbsp;<span 
class="cmtt-10">RenameFile</span>&nbsp;<span 
class="cmtt-10">function</span>&nbsp;<span 
class="cmtt-10">}</span>
<br>
<br>   <span 
class="cmtt-10">Uses</span>&nbsp;<span 
class="cmtt-10">sysutils;</span>
<br>
<br>   <span 
class="cmtt-10">Var</span>&nbsp;<span 
class="cmtt-10">F</span>&nbsp;<span 
class="cmtt-10">:</span>&nbsp;<span 
class="cmtt-10">Longint;</span>
<br>   &nbsp;&nbsp;&nbsp;&nbsp;<span 
class="cmtt-10">S</span>&nbsp;<span 
class="cmtt-10">:</span>&nbsp;<span 
class="cmtt-10">String;</span>
<br>
<br>   <span 
class="cmtt-10">Begin</span>
<br>   &nbsp;&nbsp;<span 
class="cmtt-10">S:='Some</span>&nbsp;<span 
class="cmtt-10">short</span>&nbsp;<span 
class="cmtt-10">file.';</span>
<br>   &nbsp;&nbsp;<span 
class="cmtt-10">F:=FileCreate</span>&nbsp;<span 
class="cmtt-10">('test.dap');</span>
<br>   &nbsp;&nbsp;<span 
class="cmtt-10">FileWrite(F,S[1],Length(S));</span>
<br>   &nbsp;&nbsp;<span 
class="cmtt-10">FileClose(F);</span>
<br>   &nbsp;&nbsp;<span 
class="cmtt-10">If</span>&nbsp;<span 
class="cmtt-10">RenameFile</span>&nbsp;<span 
class="cmtt-10">('test.dap','test.dat')</span>&nbsp;<span 
class="cmtt-10">then</span>
<br>   &nbsp;&nbsp;&nbsp;&nbsp;<span 
class="cmtt-10">Writeln</span>&nbsp;<span 
class="cmtt-10">('Successfully</span>&nbsp;<span 
class="cmtt-10">renamed</span>&nbsp;<span 
class="cmtt-10">files.');</span>
<br>   <span 
class="cmtt-10">End.</span>
</div></div><HR/>
<h4 class="subsectionHead"><a 
href="unitsli1.htm#QQ2-104-889" name="x104-88300022.6">SetDirSeparators</a></h4><a 
  name="dx104-883001"></a>
<dl class="list1"><dt class="list">
<span 
class="cmss-10">Declaration:</span> </dt><dd 
class="list"><span 
class="cmtt-10">Function SetDirSeparators(Const FileName : String) : String;</span>
                                                                            

                                                                            
</dd><dt class="list">
<span 
class="cmss-10">Description:</span> </dt><dd 
class="list"><span 
class="cmtt-10">SetDirSeparators  </span>returns  <span 
class="cmtt-10">FileName  </span>with  all  possible  DirSeparators  replaced  by
<span 
class="cmtt-10">OSDirSeparator</span>.
</dd><dt class="list">
<span 
class="cmss-10">Errors:</span> </dt><dd 
class="list">None.
</dd><dt class="list">
<span 
class="cmss-10">See also:</span> </dt><dd 
class="list"><span 
class="cmss-10">ExpandFileName </span>(<a 
href="#x104-85600022.6">741<!--tex4ht:ref: se:TBufStream--></a>), <span 
class="cmss-10">ExtractFilePath </span>(<a 
href="#x104-86200022.6">743<!--tex4ht:ref: se:TBufStream--></a>), <span 
class="cmss-10">ExtractFileDir </span>(<a 
href="#x104-85800022.6">742<!--tex4ht:ref: se:TBufStream--></a>)</dd></dl>
<!--l. 1605--><p class="noindent"><span 
class="cmssbx-10">Listing: </span><span 
class="cmss-10">sysutex/ex47.pp</span><HR/><div class="listinginput">
<!--l. 1605--><p class="noindent"><div class="obeylines-v">   <span 
class="cmtt-10">Program</span>&nbsp;<span 
class="cmtt-10">Example47;</span>
<br>
<br>   <span 
class="cmtt-10">{</span>&nbsp;<span 
class="cmtt-10">This</span>&nbsp;<span 
class="cmtt-10">program</span>&nbsp;<span 
class="cmtt-10">demonstrates</span>&nbsp;<span 
class="cmtt-10">the</span>&nbsp;<span 
class="cmtt-10">SetDirSeparators</span>&nbsp;<span 
class="cmtt-10">function</span>&nbsp;<span 
class="cmtt-10">}</span>
<br>
<br>   <span 
class="cmtt-10">Uses</span>&nbsp;<span 
class="cmtt-10">sysutils;</span>
<br>
<br>   <span 
class="cmtt-10">Begin</span>
<br>   &nbsp;&nbsp;<span 
class="cmtt-10">Writeln</span>&nbsp;<span 
class="cmtt-10">(SetDirSeparators('/pp\bin/win32\ppc386'));</span>
<br>   <span 
class="cmtt-10">End.</span>
</div></div><HR/>
                                                                            

                                                                            
<div class="crosslinks"><p class="noindent">[<a 
href="unitsse78.htm" >next</a>] [<a 
href="unitsse76.htm" >prev</a>] [<a 
href="unitsse76.htm#tailunitsse76.htm" >prev-tail</a>] [<a 
href="unitsse77.htm" >front</a>] [<a 
href="unitsch22.htm#unitsse77.htm" >up</a>] </p></div><a 
  name="tailunitsse77.htm"></a>   
</body></html> 
