 
<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"  
  "http://www.w3.org/TR/html4/loose.dtd">  
<html > 
<head><title>8.4.0 The heap grows</title> 
<meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1"> 
<meta name="generator" content="TeX4ht (http://www.cis.ohio-state.edu/~gurari/TeX4ht/mn.htm)"> 
<!--html,4,png,sections+--> 
<meta name="src" content="prog.tex"> 
<meta name="date" content="2003-05-30 22:37:00"> 
<link rel="stylesheet" type="text/css" href="prog.css"> 
</head><body 
>
<div class="crosslinks"><p class="noindent">[<a 
href="progsu114.htm" >next</a>] [<a 
href="progsu112.htm" >prev</a>] [<a 
href="progsu112.htm#tailprogsu112.htm" >prev-tail</a>] [<a 
href="#tailprogsu113.htm">tail</a>] [<a 
href="progse31.htm#progsu113.htm" >up</a>] </p></div>
<h4 class="subsectionHead"><a 
href="prog.htm#QQ2-163-187" name="x163-1680008.4">The heap grows</a></h4> By default, <span 
class="cmtt-10">HeapError </span>points to the <span 
class="cmtt-10">GrowHeap </span>function, which tries to increase the
heap.
<!--l. 3951--><p class="noindent">The <span 
class="cmtt-10">GrowHeap </span>function issues a system call to try to increase the size of the memory available to
your program. It first tries to increase memory in a 256Kb chunk if the size to allocate is less than
256Kb, or 1024K otherwise. If this fails, it tries to increase the heap by the amount you requested
from the heap.
<!--l. 3957--><p class="noindent">If the call to <span 
class="cmtt-10">GrowHeap </span>was successful, then the needed memory will be allocated.
<!--l. 3960--><p class="noindent">If the call to <span 
class="cmtt-10">GrowHeap </span>fails, the value returned depends on the value of the <span 
class="cmtt-10">ReturnNilIfGrowHeapFails</span>
global variable. This is summarized in table (<a 
href="#x163-16800110">8.10<!--tex4ht:ref: tab:growheapnil--></a>).
                                                                            

                                                                            
<a 
  name="x163-16800110"></a>
<hr class="float"><div align="center" class="float" 
><table class="float"><tr class="float"><td class="float" 
>
                                                                            

                                                                            
<br> <div align="center" class="caption"><table class="caption" 
><tr valign="baseline" class="caption"><td class="id">Table&nbsp;8.10: </td><td  
class="content">ReturnNilIfGrowHeapFails value</td></tr></table></div><!--tex4ht:label?: x163-16800110-->
<div class="center" 
>
<!--tex4ht:inline--><div class="tabular"><table class="tabular" 
cellspacing="0pt" cellpadding="0" rules="groups" 
frame="border" id="TBL-19-" ><colgroup id="TBL-19-1g"><col 
id="TBL-19-1"></colgroup><colgroup id="TBL-19-2g"><col 
id="TBL-19-2"></colgroup><tr 
class="hline"><td><hr></td><td><hr></td></tr><tr  
valign="baseline" id="TBL-19-1-"><td  align="center" nowrap="nowrap" id="TBL-19-1-1"  
class="td11"> ReturnNilGrowHeapFails</td><td  align="left" nowrap="nowrap" id="TBL-19-1-2"  
class="td11"> Default memory                                   </td>
</tr><tr  
valign="baseline" id="TBL-19-2-"><td  align="center" nowrap="nowrap" id="TBL-19-2-1"  
class="td11">              value             </td><td  align="left" nowrap="nowrap" id="TBL-19-2-2"  
class="td11"> manager action                                    </td>
</tr><tr 
class="hline"><td><hr></td><td><hr></td></tr><tr  
valign="baseline" id="TBL-19-3-"><td  align="center" nowrap="nowrap" id="TBL-19-3-1"  
class="td11">             FALSE            </td><td  align="left" nowrap="nowrap" id="TBL-19-3-2"  
class="td11"> (The default) Runtime error 203 generated</td>
</tr><tr  
valign="baseline" id="TBL-19-4-"><td  align="center" nowrap="nowrap" id="TBL-19-4-1"  
class="td11">             TRUE            </td><td  align="left" nowrap="nowrap" id="TBL-19-4-2"  
class="td11"> <span 
class="cmtt-10">GetMem</span>, <span 
class="cmtt-10">ReallocMem </span>and <span 
class="cmtt-10">New </span>returns <span 
class="cmtt-10">nil </span></td>
</tr><tr 
class="hline"><td><hr></td><td><hr></td></tr><tr  
valign="baseline" id="TBL-19-5-"><td  align="center" nowrap="nowrap" id="TBL-19-5-1"  
class="td11">                                  </td>
</tr><!--|c|l|--></table>
</div></div>
                                                                            

                                                                            
</td></tr></table></div><hr class="endfloat">
<span 
class="cmtt-10">ReturnNilIfGrowHeapFails </span>can be set to change the behavior of the default memory manager
error handler.
                                                                            

                                                                            
<div class="crosslinks"><p class="noindent">[<a 
href="progsu114.htm" >next</a>] [<a 
href="progsu112.htm" >prev</a>] [<a 
href="progsu112.htm#tailprogsu112.htm" >prev-tail</a>] [<a 
href="progsu113.htm" >front</a>] [<a 
href="progse31.htm#progsu113.htm" >up</a>] </p></div><a 
  name="tailprogsu113.htm"></a>  
</body></html> 
