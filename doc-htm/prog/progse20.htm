 
<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"  
  "http://www.w3.org/TR/html4/loose.dtd">  
<html > 
<head><title>6.4 Nested procedure and functions</title> 
<meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1"> 
<meta name="generator" content="TeX4ht (http://www.cis.ohio-state.edu/~gurari/TeX4ht/mn.htm)"> 
<!--html,4,png,sections+--> 
<meta name="src" content="prog.tex"> 
<meta name="date" content="2003-05-30 22:37:00"> 
<link rel="stylesheet" type="text/css" href="prog.css"> 
</head><body 
>
<div class="crosslinks"><p class="noindent">[<a 
href="progse21.htm" >next</a>] [<a 
href="progse19.htm" >prev</a>] [<a 
href="progse19.htm#tailprogse19.htm" >prev-tail</a>] [<a 
href="#tailprogse20.htm">tail</a>] [<a 
href="progch6.htm#progse20.htm" >up</a>] </p></div>
<h3 class="sectionHead"><span class="titlemark">6.4</span> <a 
href="prog.htm#QQ2-116-118" name="x116-1130006.4">Nested procedure and functions</a></h3>
<!--l. 2600--><p class="noindent">When a routine is declared within the scope of a procedure or function, it is said to be nested. In
this case, an additional invisible parameter is passed to the nested routine. This additional
parameter is the frame pointer address of the calling routine. This permits the nested routine to
access the local variables and parameters of the calling routine.
<!--l. 2607--><p class="noindent">The resulting stack frame after the entry code of a simple nested procedure has been executed is
shown in table (<a 
href="#x116-1130014">6.4<!--tex4ht:ref: tab:NestedStackFrame32--></a>).
                                                                            

                                                                            
<a 
  name="x116-1130014"></a>
<hr class="float"><div align="center" class="float" 
><table class="float"><tr class="float"><td class="float" 
>
                                                                            

                                                                            
<br> <div align="center" class="caption"><table class="caption" 
><tr valign="baseline" class="caption"><td class="id">Table&nbsp;6.4: </td><td  
class="content">Stack frame when calling a nested procedure (32-bit processors)</td></tr></table></div><!--tex4ht:label?: x116-1130014-->
<div class="center" 
>
<!--tex4ht:inline--><div class="tabular"><table class="tabular" 
cellspacing="0pt" cellpadding="0"  
frame="void" id="TBL-7-" ><colgroup id="TBL-7-1g"><col 
id="TBL-7-1"><col 
id="TBL-7-2"></colgroup><tr 
class="hline"><td><hr></td><td><hr></td></tr><tr  
valign="baseline" id="TBL-7-1-"><td  align="left" nowrap="nowrap" id="TBL-7-1-1"  
class="td11"> Offset from frame pointer</td><td  align="left" nowrap="nowrap" id="TBL-7-1-2"  
class="td11"> What is stored                      </td>
</tr><tr 
class="hline"><td><hr></td><td><hr></td></tr><tr  
valign="baseline" id="TBL-7-2-"><td  align="left" nowrap="nowrap" id="TBL-7-2-1"  
class="td11"> +x                              </td><td  align="left" nowrap="nowrap" id="TBL-7-2-2"  
class="td11"> parameters                           </td>
</tr><tr  
valign="baseline" id="TBL-7-3-"><td  align="left" nowrap="nowrap" id="TBL-7-3-1"  
class="td11"> +8                              </td><td  align="left" nowrap="nowrap" id="TBL-7-3-2"  
class="td11"> Frame pointer of parent routine</td>
</tr><tr  
valign="baseline" id="TBL-7-4-"><td  align="left" nowrap="nowrap" id="TBL-7-4-1"  
class="td11"> +4                              </td><td  align="left" nowrap="nowrap" id="TBL-7-4-2"  
class="td11"> Return address                      </td>
</tr><tr  
valign="baseline" id="TBL-7-5-"><td  align="left" nowrap="nowrap" id="TBL-7-5-1"  
class="td11"> +0                              </td><td  align="left" nowrap="nowrap" id="TBL-7-5-2"  
class="td11"> Saved frame pointer               </td>
</tr><tr 
class="hline"><td><hr></td><td><hr></td></tr><tr  
valign="baseline" id="TBL-7-6-"><td  align="left" nowrap="nowrap" id="TBL-7-6-1"  
class="td11">                                   </td>
</tr><!--ll--></table>
</div></div>
                                                                            

                                                                            
</td></tr></table></div><hr class="endfloat">
                                                                            

                                                                            
<div class="crosslinks"><p class="noindent">[<a 
href="progse21.htm" >next</a>] [<a 
href="progse19.htm" >prev</a>] [<a 
href="progse19.htm#tailprogse19.htm" >prev-tail</a>] [<a 
href="progse20.htm" >front</a>] [<a 
href="progch6.htm#progse20.htm" >up</a>] </p></div><a 
  name="tailprogse20.htm"></a>  
</body></html> 
